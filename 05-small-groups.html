<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Programming with GAP: Small groups search</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Lesson Description" src="assets/images/incubator-logo.svg"></div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/05-small-groups.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Programming with GAP
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Programming with GAP
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="reference.html"></a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Programming with GAP
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 61%" class="percentage">
    61%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 61%" aria-valuenow="61" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/05-small-groups.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-command-line.html">1. First session with GAP</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-some-objects.html">2. Some more GAP objects</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-func.html">3. Functions in GAP</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-testing.html">4. Using regression tests</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        5. Small groups search
        </span>
      
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-attributes.html">6. Attributes and Methods</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="discuss.html">Discussion</a></li><li><a href="reference.html"></a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="04-testing.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="06-attributes.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="04-testing.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Using regression
        </a>
        <a class="chapter-link float-end" href="06-attributes.html" rel="next">
          Next: Attributes and...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Small groups search</h1>
        <p>Last updated on 2024-08-27 |

        <a href="https://github.com/carpentries-incubator/gap-lesson/edit/main/episodes/05-small-groups.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>Modular programming: putting functions together</li>
<li>How to check some conjecture for all groups of a given order</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Using the Small Groups Library</li>
<li>Designing a system of functions to fit together</li>
</ul></div>
</div>
</div>
</div>
</div>
<p>In this section, we wish to discover some non-trivial groups with an
interesting property: namely, that the average order of their elements
is an integer.</p>
<p>The GAP distribution includes a number of data libraries (see an
overview <a href="https://www.gap-system.org/Datalib/datalib.html" class="external-link">here</a>). One of
them is the <a href="https://www.gap-system.org/Packages/sgl.html" class="external-link">Small
Groups Library</a> by Hans Ulrich Besche, Bettina Eick and Eamonn
O’Brien.</p>
<p>This library provides various utilities to determine which
information is stored there and submit queries to search for groups with
desired properties. The key functions are <code>SmallGroup</code>,
<code>AllSmallGroups</code>, <code>NrSmallGroups</code>,
<code>SmallGroupsInformation</code> and <code>IdGroup</code>. For
example:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>gap&gt; NrSmallGroups(64);
267
gap&gt; SmallGroupsInformation(64);

  There are 267 groups of order 64.
  They are sorted by their ranks.
     1 is cyclic.
     2 - 54 have rank 2.
     55 - 191 have rank 3.
     192 - 259 have rank 4.
     260 - 266 have rank 5.
     267 is elementary abelian.

  For the selection functions the values of the following attributes
  are precomputed and stored:
     IsAbelian, PClassPGroup, RankPGroup, FrattinifactorSize and
     FrattinifactorId.

  This size belongs to layer 2 of the SmallGroups library.
  IdSmallGroup is available for this size.

gap&gt; G:=SmallGroup(64,2);
&lt;pc group of size 64 with 6 generators&gt;
gap&gt; AllSmallGroups(Size,64,NilpotencyClassOfGroup,5);
[ &lt;pc group of size 64 with 6 generators&gt;, &lt;pc group of size 64 with 6 generators&gt;,
  &lt;pc group of size 64 with 6 generators&gt; ]
gap&gt; List(last,IdGroup);
[ [ 64, 52 ], [ 64, 53 ], [ 64, 54 ] ]</code></pre>
</div>
<p>We would like to use our own testing function, which we will create
here, using inline notation (available for one-argument functions):</p>
<pre class="source"><code><span><span class="va">TestOneGroup</span> <span class="op">:=</span> <span class="va">G</span> <span class="op">-&gt;</span> <span class="fu">IsInt</span><span class="op">(</span> <span class="fu">AvgOrdOfGroup</span><span class="op">(</span><span class="va">G</span><span class="op">)</span> <span class="op">)</span>;</span></code></pre>
<p>Now try, for example</p>
<pre class="source"><code>List([TrivialGroup(),Group((1,2))],TestOneGroup);</code></pre>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ true, false ]</code></pre>
</div>
<pre class="source"><code><span><span class="va">gap</span><span class="op">&gt;</span> <span class="fu">AllSmallGroups</span><span class="op">(</span><span class="va">Size</span>,<span class="fl">24</span>,<span class="va">TestOneGroup</span>,<span class="va">true</span><span class="op">)</span>;</span></code></pre>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ ]</code></pre>
</div>
<div id="modular-programming-begins-here" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="modular-programming-begins-here" class="callout-inner">
<h3 class="callout-title">Modular programming begins here</h3>
<div class="callout-content">
<p>Why is returning booleans a good design decision for such functions,
instead of just printing information or returning a string such as
<code>"YES"</code> ?</p>
</div>
</div>
</div>
<p>This is a simple example of a function which tests all groups of a
given order. It creates one group at a time, checks the desired
property, and returns as soon as an example is discovered. Otherwise it
returns <code>fail</code> which is a special kind of boolean variable in
GAP.</p>
<pre class="source"><code>TestOneOrderEasy := function(n)
local i;
for i in [1..NrSmallGroups(n)] do
  if TestOneGroup( SmallGroup( n, i ) ) then
    return [n,i];
  fi;
od;
return fail;
end;</code></pre>
<p>For example,</p>
<pre class="source"><code><span><span class="fu">TestOneOrderEasy</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>;</span></code></pre>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ 1, 1 ]</code></pre>
</div>
<pre class="source"><code><span><span class="fu">TestOneOrderEasy</span><span class="op">(</span><span class="fl">24</span><span class="op">)</span>;</span></code></pre>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">fail</span></span></code></pre>
</div>
<div id="allsmallgroups-runs-out-of-memory-what-to-do" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="allsmallgroups-runs-out-of-memory-what-to-do" class="callout-inner">
<h3 class="callout-title">
<code>AllSmallGroups</code> runs out of memory
– what to do?</h3>
<div class="callout-content">
<ul><li>Use iteration over <code>[1..NrSmallGroups(n)]</code> as shown in
the function above</li>
<li>Use <code>IdsOfAllSmallGroups</code> which accepts same arguments as
<code>AllSmallGroups</code> but returns ids instead of groups.</li>
</ul></div>
</div>
</div>
<p>Iterating over <code>[1..NrSmallGroups(n)]</code> gives you more
flexibility if you need more control over the progress of calculation.
For example, the next version of our testing function prints additional
information about the number of the group being tested. It also supplies
the testing function as an argument (why do you think this is
better?).</p>
<pre class="source"><code>TestOneOrder := function(f,n)
local i, G;
for i in [1..NrSmallGroups(n)] do
  Print(n, ":", i, "/", NrSmallGroups(n), "\r");
  G := SmallGroup( n, i );
  if f(G) then
    Print("\n");
    return [n,i];
  fi;
od;
Print("\n");
return fail;
end;</code></pre>
<p>For example,</p>
<pre class="source"><code><span><span class="fu">TestOneOrder</span><span class="op">(</span><span class="va">TestOneGroup</span>,<span class="fl">64</span><span class="op">)</span>;</span></code></pre>
<p>will display a changing counter during calculation and then return
<code>fail</code>:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">64</span><span class="op">:</span><span class="fl">267</span><span class="op">/</span><span class="fl">267</span></span>
<span><span class="va">fail</span></span></code></pre>
</div>
<p>The next step is to integrate <code>TestOneOrder</code> into a
function which will test all orders from 2 to <code>n</code> and stop as
soon as it finds an example of a group with the average order of an
element being an integer:</p>
<pre class="source"><code>TestAllOrders:=function(f,n)
local i, res;
for i in [2..n] do
  res:=TestOneOrder(f,i);
  if res &lt;&gt; fail then
    return res;
  fi;
od;
return fail;
end;</code></pre>
<p>It reports that there is such a group of order 105:</p>
<pre class="source"><code><span><span class="fu">TestAllOrders</span><span class="op">(</span><span class="va">TestOneGroup</span>,<span class="fl">128</span><span class="op">)</span>;</span></code></pre>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2:1/1
3:1/1
4:2/2
5:1/1
6:2/2
7:1/1
8:5/5
...
...
...
100:16/16
101:1/1
102:4/4
103:1/1
104:14/14
105:1/2
[ 105, 1 ]</code></pre>
</div>
<p>To explore it further, we can get its
<code>StructureDescription</code> (see <a href="https://www.gap-system.org/Manuals/doc/ref/chap39.html#X87BF1B887C91CA2E" class="external-link">here</a>
for the explanation of the notation it uses):</p>
<pre class="source"><code><span><span class="va">G</span><span class="op">:=</span><span class="fu">SmallGroup</span><span class="op">(</span><span class="fl">105</span>,<span class="fl">1</span><span class="op">)</span>; <span class="fu">AvgOrdOfGroup</span><span class="op">(</span><span class="va">G</span><span class="op">)</span>; <span class="fu">StructureDescription</span><span class="op">(</span><span class="va">G</span><span class="op">)</span>;</span></code></pre>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;pc group of size 105 with 3 generators&gt;
17
"C5 x (C7 : C3)"</code></pre>
</div>
<p>and then convert it to a finitely presented group to see its
generators and relators:</p>
<pre class="source"><code><span><span class="va">H</span><span class="op">:=</span><span class="fu">SimplifiedFpGroup</span><span class="op">(</span><span class="fu">Image</span><span class="op">(</span><span class="fu">IsomorphismFpGroup</span><span class="op">(</span><span class="va">G</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>;</span>
<span><span class="fu">RelatorsOfFpGroup</span><span class="op">(</span><span class="va">H</span><span class="op">)</span>;</span></code></pre>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;fp group on the generators [ F1, F2, F3 ]&gt;
[ F1^3, F2^-1*F1^-1*F2*F1, F3^-1*F2^-1*F3*F2, F3^-1*F1^-1*F3*F1*F3^-1, F2^5,
  F3^7 ]</code></pre>
</div>
<p>Now we want to try larger groups, starting from order 106 (we check
that the other group of order 105 possesses no such property)</p>
<pre class="source"><code><span><span class="fu">List</span><span class="op">(</span><span class="fu">AllSmallGroups</span><span class="op">(</span><span class="fl">105</span><span class="op">)</span>,<span class="va">AvgOrdOfGroup</span><span class="op">)</span>;</span></code></pre>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ 17, 301/5 ]</code></pre>
</div>
<p>With a little modification, we add an extra argument specifying the
order from which to start:</p>
<pre class="source"><code>TestRangeOfOrders:=function(f,n1,n2)
local n, res;
for n in [n1..n2] do
  res:=TestOneOrder(f,n);
  if res &lt;&gt; fail then
    return res;
  fi;
od;
return fail;
end;</code></pre>
<p>But now we call it with</p>
<pre class="source"><code><span><span class="fu">TestRangeOfOrders</span><span class="op">(</span><span class="va">TestOneGroup</span>,<span class="fl">106</span>,<span class="fl">256</span><span class="op">)</span>;</span></code></pre>
<p>and discover that testing 2328 groups of order 128 and additionally
56092 groups of order 256 already takes too long.</p>
<div id="dont-panic" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="dont-panic" class="callout-inner">
<h3 class="callout-title">Don’t panic!</h3>
<div class="callout-content">
<p>You can interrupt GAP by pressing Ctrl-C once. After that, GAP will
enter a break loop, designated by the break prompt <code>brk&gt;</code>.
You can leave it by typing <code>quit;</code> (beware of pressing Ctrl-C
twice within a second – that will terminate GAP session completely).</p>
</div>
</div>
</div>
<p>This is another situation where theoretical knowledge helps much more
than the brute-force approach. If the group is a <em>p</em>-group, then
the order of each conjugacy class of a non-identity element of the group
is divisible by <em>p</em>; therefore, the average order of a group
element may not be an integer. Therefore, <em>p</em>-groups can be
excluded from calculation. So, the new version of the code is</p>
<pre class="source"><code>TestRangeOfOrders:=function(f,n1,n2)
local n, res;
for n in [n1..n2] do
  if not IsPrimePowerInt(n) then
     res:=TestOneOrder(f,n);
     if res &lt;&gt; fail then
       return res;
     fi;
   fi;
od;
return fail;
end;</code></pre>
<p>and using it we are able to discover a group of order 357 with the
same property:</p>
<pre class="source"><code><span><span class="va">gap</span><span class="op">&gt;</span> <span class="fu">TestRangeOfOrders</span><span class="op">(</span><span class="va">TestOneGroup</span>,<span class="fl">106</span>,<span class="fl">512</span><span class="op">)</span>;</span></code></pre>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>106:2/2
108:45/45
...
350:10/10
351:14/14
352:195/195
354:4/4
355:2/2
356:5/5
357:1/2
[ 357, 1 ]</code></pre>
</div>
<p>The next function shows even further flexibility: it is variadic,
i.e. it may accept two or more arguments, the first two of which will be
assigned to the variables <code>f</code> and <code>n</code>, and the
rest of which will be available in the list <code>r</code> (this is
indicated by <code>...</code> after <code>r</code>). The first argument
is the testing function, the second is the order to check, and the third
and the fourth are the numbers of the first and last groups of this
order that should be checked. By default, the last two are equal to 1
and <code>NrSmallGroups(n)</code> respectively. This function also shows
how to validate the input and produce user-friendly error messages in
case of invalid arguments.</p>
<p>In addition, this function demonstrates how to use <code>Info</code>
messages that may be switched on and off by setting appropriate
<code>Info</code> level. The need we address here is to be able to
switch the levels of verbosity of the output without error-prone
approach of walking through the code and commenting <code>Print</code>
statements in and out. It is achieved by creating an info class:</p>
<pre class="source"><code><span><span class="va">gap</span><span class="op">&gt;</span> <span class="va">InfoSmallGroupsSearch</span> <span class="op">:=</span> <span class="fu">NewInfoClass</span><span class="op">(</span><span class="st">"InfoSmallGroupsSearch"</span><span class="op">)</span>;</span></code></pre>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">InfoSmallGroupsSearch</span></span></code></pre>
</div>
<p>Now instead of <code>Print("something");</code> one could use
<code>Info( InfoSmallGroupsSearch, infolevel, "something" );</code>
where <code>infolevel</code> is a positive integer specifying the level
of verbosity. This level could be changed to <code>n</code> using the
command <code>SetInfoLevel( InfoSmallGroupsSearch, n);</code>. See
actual calls of <code>Info</code> in the code below:</p>
<pre class="source"><code>TestOneOrderVariadic := function(f,n,r...)
local n1, n2, i;

if not Length(r) in [0..2] then
  Error("The number of arguments must be 2,3 or 4\n" );
fi;

if not IsFunction( f ) then
  Error("The first argument must be a function\n" );
fi;

if not IsPosInt( n ) then
  Error("The second argument must be a positive integer\n" );
fi;

if IsBound(r[1]) then
  n1:=r[1];
  if not n1 in [1..NrSmallGroups(n)] then
    Error("The 3rd argument, if present, must belong to ", [1..NrSmallGroups(n)], "\n" );
  fi;
else
  n1:=1;
fi;

if IsBound(r[2]) then
  n2:=r[2];
  if not n2 in [1..NrSmallGroups(n)] then
    Error("The 4th argument, if present, must belong to ", [1..NrSmallGroups(n)], "\n" );
  elif n2 &lt; n1 then
    Error("The 4th argument, if present, must be greater or equal to the 3rd \n" );
  fi;
else
  n2:=NrSmallGroups(n);
fi;

Info( InfoSmallGroupsSearch, 1,
      "Checking groups ", n1, " ... ", n2, " of order ", n );
for i in [n1..n2] do
  if InfoLevel( InfoSmallGroupsSearch ) &gt; 1 then
    Print(i, "/", NrSmallGroups(n), "\r");
  fi;
  if f(SmallGroup(n,i)) then
    Info( InfoSmallGroupsSearch, 1,
          "Discovered counterexample: SmallGroup( ", n, ", ", i, " )" );
    return [n,i];
  fi;
od;
Info( InfoSmallGroupsSearch, 1,
      "Search completed - no counterexample discovered" );
return fail;
end;</code></pre>
<p>The following example demonstrates how the output may now be
controlled by switching the info level for
<code>InfoSmallGroupsSearch</code>:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>gap&gt; TestOneOrderVariadic(IsIntegerAverageOrder,24);
fail
gap&gt; SetInfoLevel( InfoSmallGroupsSearch, 1 );
gap&gt; TestOneOrderVariadic(IsIntegerAverageOrder,24);
#I  Checking groups 1 ... 15 of order 24
#I  Search completed - no counterexample discovered
fail
gap&gt; TestOneOrderVariadic(IsIntegerAverageOrder,357);
#I  Checking groups 1 ... 2 of order 357
#I  Discovered counterexample: SmallGroup( 357, 1 )
[ 357, 1 ]
gap&gt; SetInfoLevel( InfoSmallGroupsSearch, 0);
gap&gt; TestOneOrderVariadic(IsIntegerAverageOrder,357);
[ 357, 1 ]</code></pre>
</div>
<p>Of course, this now introduces some complication for the test file,
which compares the actual output with the reference output. To resolve
this problem, we will decide to run the tests at info level 0 to
suppress all additional outputs. Because the tests may have been started
in the GAP session with a different info level, we will remember that
info level to restore it after the test:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Finding groups with integer average order
gap&gt; INFO_SSS:=InfoLevel(InfoSmallGroupsSearch);;
gap&gt; SetInfoLevel( InfoSmallGroupsSearch, 0);
gap&gt; res:=[];;
gap&gt; for n in [1..360] do
&gt;      if not IsPrimePowerInt(n) then
&gt;        t := TestOneOrderVariadic( IsIntegerAverageOrder,n,1,NrSmallGroups(n) );
&gt;        if t &lt;&gt; fail then
&gt;          Add(res,t);
&gt;        fi;
&gt;      fi;
&gt;    od;
gap&gt; res;
[ [ 1, 1 ], [ 105, 1 ], [ 357, 1 ] ]
gap&gt; SetInfoLevel( InfoSmallGroupsSearch, INFO_SSS);</code></pre>
</div>
<div id="does-the-small-groups-library-contain-another-group-with-this-property" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="does-the-small-groups-library-contain-another-group-with-this-property" class="callout-inner">
<h3 class="callout-title">Does the Small Groups Library contain another group with this property?</h3>
<div class="callout-content">
<ul><li><p>What can you say about the order of the groups with this
property?</p></li>
<li><p>Can you estimate how long it may take to check all 408641062
groups of order 1536?</p></li>
<li><p>How many groups of order not higher than 2000 might you be able
to check, excluding <em>p</em>-groups and those of order 1536?</p></li>
<li><p>Can you find another group with this property in the Small Groups
Library (of order not equal to 1536)?</p></li>
</ul></div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul><li>Organise the code into functions.</li>
<li>Create small groups one by one instead of producing a huge list of
them.</li>
<li>Using <code>SmallGroupsInformation</code> may help to reduce the
search space.</li>
<li>GAP is not a magic tool: theoretical knowledge may help much more
than the brute-force approach.</li>
</ul></div>
</div>
</div>



      </div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="04-testing.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="06-attributes.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="04-testing.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Using regression
        </a>
        <a class="chapter-link float-end" href="06-attributes.html" rel="next">
          Next: Attributes and...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/carpentries-incubator/gap-lesson/edit/main/episodes/05-small-groups.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/carpentries-incubator/gap-lesson/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries-incubator/gap-lesson/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries-incubator/gap-lesson/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:obk1@st-andrews.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.6" class="external-link">sandpaper (0.16.6)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.6" class="external-link">pegboard (0.7.6)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.4" class="external-link">varnish (1.0.4)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries-incubator.github.io/gap-lesson/05-small-groups.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Small groups search",
  "creativeWorkStatus": "active",
  "url": "https://carpentries-incubator.github.io/gap-lesson/05-small-groups.html",
  "identifier": "https://carpentries-incubator.github.io/gap-lesson/05-small-groups.html",
  "dateCreated": "2014-10-21",
  "dateModified": "2024-08-27",
  "datePublished": "2024-08-27"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

