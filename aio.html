<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Programming with GAP: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css">
<script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">
<link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Lesson Description" src="assets/images/incubator-logo.svg">
</div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/aio.html';">Instructor View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="assets/images/incubator-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Programming with GAP
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Programming with GAP
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="discuss.html">Discussion</a></li>
<li><a class="dropdown-item" href="reference.html"></a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Programming with GAP
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/aio.html">Instructor View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-command-line.html">1. First session with GAP</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-some-objects.html">2. Some more GAP objects</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-func.html">3. Functions in GAP</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-testing.html">4. Using regression tests</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-small-groups.html">5. Small groups search</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-attributes.html">6. Attributes and Methods</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="discuss.html">Discussion</a></li>
<li><a href="reference.html"></a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-01-command-line"><p>Content from <a href="01-command-line.html">First session with GAP</a></p>
<hr>
<p>Last updated on 2024-08-28 |

        <a href="https://github.com/carpentries-incubator/gap-lesson/edit/main/episodes/01-command-line.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>Working with the GAP command line</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Time-saving tips and tricks</li>
<li>Using GAP’s help system</li>
<li>Basic objects and constructions in the GAP language</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>If GAP is installed correctly you should be able to start it. Exactly
how you start GAP will depend on your operating system and how you
installed GAP. GAP starts with the <em>banner</em> displaying
information about the version of the system and loaded components, and
then displays the command line prompt <code>gap&gt;</code>, for
example:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> ┌───────┐   GAP 4.9.2 of 04-Jul-2018
 │  GAP  │   https://www.gap-system.org
 └───────┘   Architecture: x86_64-apple-darwin16.7.0-default64
 Configuration:  gmp 6.1.2, readline
 Loading the library and packages ...
 Packages:   AClib 1.3, Alnuth 3.1.0, AtlasRep 1.5.1, AutPGrp 1.9,
             Browse 1.8.8, CRISP 1.4.4, Cryst 4.1.17, CrystCat 1.1.8,
             CTblLib 1.2.2, FactInt 1.6.2, FGA 1.4.0, GAPDoc 1.6.1, IO 4.5.1,
             IRREDSOL 1.4, LAGUNA 3.9.0, Polenta 1.3.8, Polycyclic 2.14,
             PrimGrp 3.3.1, RadiRoot 2.8, ResClasses 4.7.1, SmallGrp 1.3,
             Sophus 1.24, SpinSym 1.5, TomLib 1.2.6, TransGrp 2.0.2,
             utils 0.54
 Try '??help' for help. See also '?copyright', '?cite' and '?authors'
gap&gt;</code></pre>
</div>
<p>To leave GAP, type <code>quit;</code> at the GAP prompt. Remember
that all GAP commands, including this one, must be finished with a
semicolon! Practice entering <code>quit;</code> to leave GAP, and then
starting a new GAP session. Before continuing, you may wish to enter the
following command to display GAP prompts and user inputs in different
colours:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a> <span class="bu">ColorPrompt</span>(<span class="cn">true</span>)<span class="op">;</span></span></code></pre>
</div>
<p>The easiest way to start trying GAP out is as a calculator:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>( <span class="fl">1</span> <span class="op">+</span> <span class="fl">2</span><span class="op">^</span><span class="fl">32</span> ) <span class="op">/</span> (<span class="fl">1</span> <span class="op">-</span> <span class="fl">2</span><span class="op">*</span><span class="fl">3</span><span class="op">*</span><span class="fl">107</span> )<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="op">-</span><span class="fl">6700417</span></span></code></pre>
</div>
<p>If you want to record what you did in a GAP session, so you can look
over it later, you can enable logging with the <code>LogTo</code>
function, like this.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="bu">LogTo</span>(<span class="st">"gap-intro.log"</span>)<span class="op">;</span></span></code></pre>
</div>
<p>This will create a file file <code>gap-intro.log</code> in the
current directory which will contain all subsequent input and output
that appears on your terminal. To stop logging, you can call
<code>LogTo</code> without arguments, as in <code>LogTo();</code>, or
leave GAP. Note that <code>LogTo</code> blanks the file before starting,
if it already exists!</p>
<p>It can be useful to leave some comments in the log file in case you
return to it in the future. A comment in GAP starts with the symbol
<code>#</code> and continues to the end of the line. You can enter the
following after the GAP prompt:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>#<span class="co"> GAP Software Carpentry Lesson</span></span></code></pre>
</div>
<p>then after pressing the Return key, GAP will display a new prompt but
the comment will be written to the log file.</p>
<p>The log file records all interaction with GAP that happens after the
call to <code>LogTo</code>, but not before. We can repeat our
calculation from above if we want to record it as well. Instead of
retyping it, we will use the Up and Down arrow keys to scroll the
<em>command line history</em>. Repeat this until you see the formula
again, then press Return (the location of the cursor in the command line
does not matter):</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>( <span class="fl">1</span> <span class="op">+</span> <span class="fl">2</span><span class="op">^</span><span class="fl">32</span> ) <span class="op">/</span> (<span class="fl">1</span> <span class="op">-</span> <span class="fl">2</span><span class="op">*</span><span class="fl">3</span><span class="op">*</span><span class="fl">107</span> )<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="op">-</span><span class="fl">6700417</span></span></code></pre>
</div>
<p>You can also edit existing commands. Press Up once more, and then use
the Left and Right arrow keys, Delete or Backspace to edit it and
replace 32 by 64 (some other useful shortcuts are Ctrl-A and Ctrl-E to
move the cursor to the beginning and end of the line, respectively). Now
press the Return key (at any position of the cursor in the command
line):</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>( <span class="fl">1</span> <span class="op">+</span> <span class="fl">2</span><span class="op">^</span><span class="fl">64</span> ) <span class="op">/</span> (<span class="fl">1</span> <span class="op">-</span> <span class="fl">2</span><span class="op">*</span><span class="fl">3</span><span class="op">*</span><span class="fl">107</span> )<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="op">-</span><span class="fl">18446744073709551617</span><span class="op">/</span><span class="fl">641</span></span></code></pre>
</div>
<p>It is useful to know that if the command line history is long, one
could perform a partial search by typing the initial part of the command
and using Up and Down arrow keys after that, to scroll only the lines
that begin with the same string.</p>
<p>If you want to store a value for later use, you can assign it to a
name using <code>:=</code></p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="va">universe</span> <span class="op">:=</span> <span class="fl">6</span><span class="op">*</span><span class="fl">7</span><span class="op">;</span></span></code></pre>
</div>
<div id="and" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="and" class="callout-inner">
<h3 class="callout-title">
<code>:=</code>, <code>=</code> and
<code>&lt;&gt;</code>
</h3>
<div class="callout-content">
<ul>
<li><p>In other languages you might be more familiar with using
<code>=</code>, to assign variables, but GAP uses
<code>:=</code>.</p></li>
<li><p>GAP uses <code>=</code> to compare if two things are the same
(where other languages might use <code>==</code>).</p></li>
<li><p>Finally, GAP uses <code>&lt;&gt;</code> to check if two things
are not equal (rather than the <code>!=</code> you might have seen
before).</p></li>
</ul>
</div>
</div>
</div>
<p>Whitespace characters (i.e. Spaces, Tabs and Returns) are
insignificant in GAP, except if they occur inside a string. For example,
the previous input could be typed without spaces:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>(<span class="fl">1</span><span class="op">+</span><span class="fl">2</span><span class="op">^</span><span class="fl">64</span>)<span class="op">/</span>(<span class="fl">1</span><span class="op">-</span><span class="fl">2</span><span class="op">*</span><span class="fl">3</span><span class="op">*</span><span class="fl">107</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="op">-</span><span class="fl">18446744073709551617</span><span class="op">/</span><span class="fl">641</span></span></code></pre>
</div>
<p>Whitespace symbols are often used to format more complicated commands
for better readability. For example, the following input which creates a
3×3 matrix:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="va">m</span><span class="op">:=</span>[[<span class="fl">1</span><span class="op">,</span><span class="fl">2</span><span class="op">,</span><span class="fl">3</span>]<span class="op">,</span>[<span class="fl">4</span><span class="op">,</span><span class="fl">5</span><span class="op">,</span><span class="fl">6</span>]<span class="op">,</span>[<span class="fl">7</span><span class="op">,</span><span class="fl">8</span><span class="op">,</span><span class="fl">9</span>]]<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ [ 1, 2, 3 ], [ 4, 5, 6 ], [ 7, 8, 9 ] ]</code></pre>
</div>
<p>We can instead write our matrix over 3 lines. In this case, instead
of the full prompt <code>gap&gt;</code>, a partial prompt
<code>&gt;</code> will be displayed until the user finishes the input
with a semicolon:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">m</span><span class="op">:=</span>[[ <span class="fl">1</span><span class="op">,</span> <span class="fl">2</span><span class="op">,</span> <span class="fl">3</span> ]<span class="op">,</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="op">&gt;</span>        [ <span class="fl">4</span><span class="op">,</span> <span class="fl">5</span><span class="op">,</span> <span class="fl">6</span> ]<span class="op">,</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="op">&gt;</span>        [ <span class="fl">7</span><span class="op">,</span> <span class="fl">8</span><span class="op">,</span> <span class="fl">9</span> ]]<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ [ 1, 2, 3 ], [ 4, 5, 6 ], [ 7, 8, 9 ] ]</code></pre>
</div>
<p>You can use <code>Display</code> to pretty-print variables, including
this matrix:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="bu">Display</span>(<span class="va">m</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ [  1,  2,  3 ],
  [  4,  5,  6 ],
  [  7,  8,  9 ] ]</code></pre>
</div>
<p>In general GAP functions like <code>LogTo</code> and
<code>Display</code> are called using brackets, which contain a
(possibly empty) list of arguments.</p>
<div id="functions-are-also-gap-objects" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="functions-are-also-gap-objects" class="callout-inner">
<h3 class="callout-title">Functions are also GAP objects</h3>
<div class="callout-content">
<p>Check what happens if you forget to add brackets, e.g. type
<code>LogTo;</code> and <code>Factorial;</code> We will explain the
differences in these outputs later.</p>
</div>
</div>
</div>
<p>Here are some examples of calling other GAP functions:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="bu">Factorial</span>(<span class="fl">100</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>93326215443944152681699238856266700490715968264381621468\
59296389521759999322991560894146397615651828625369792082\
7223758251185210916864000000000000000000000000</code></pre>
</div>
<p>(the exact width of output will depend on your terminal
settings),</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="bu">Determinant</span>(<span class="va">m</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">0</span></span></code></pre>
</div>
<p>and</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="bu">Factors</span>(<span class="fl">2</span><span class="op">^</span><span class="fl">64</span><span class="op">-</span><span class="fl">1</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ 3, 5, 17, 257, 641, 65537, 6700417 ]</code></pre>
</div>
<p>Functions may be combined in various ways, and may be used as
arguments of other functions, for example, the <code>Filtered</code>
function takes a list and a function, returning all elements of the list
which satisfy the function. <code>IsEvenInt</code>, unsurprisingly,
checks if an integer is even!</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="bu">Filtered</span>( [<span class="fl">2</span><span class="op">,</span><span class="fl">9</span><span class="op">,</span><span class="fl">6</span><span class="op">,</span><span class="fl">3</span><span class="op">,</span><span class="fl">4</span><span class="op">,</span><span class="fl">5</span>]<span class="op">,</span> <span class="bu">IsEvenInt</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ 2, 6, 4 ]</code></pre>
</div>
<p>A useful time-saving feature of the GAP command-line interfaces is
completion of identifiers when the Tab key is pressed. For example, type
<code>Fib</code> and then press the Tab key to complete the input to
<code>Fibonacci</code>:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="bu">Fibonacci</span>(<span class="fl">100</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">354224848179261915075</span></span></code></pre>
</div>
<p>In the case that a unique completion is not possible, GAP will try to
perform partial completion, and pressing the Tab key second time will
display all possible completions of the identifier. Try, for example, to
enter <code>GroupHomomorphismByImages</code> or
<code>NaturalHomomorphismByNormalSubgroup</code> using completion.</p>
<p>The way functions are named in GAP will hopefully help you to
memorise or even guess names of library functions. If a variable name
consists of several words then the first letter of each word is
capitalised (remember that GAP is case-sensitive!). Further details on
naming conventions used in GAP are documented <a href="https://docs.gap-system.org/doc/ref/chap5.html#X81F732457F7BC851" class="external-link">in
the GAP manual here</a>. Functions with names in
<code>ALL_CAPITAL_LETTERS</code> are internal functions not intended for
general use. Use them with extreme care!</p>
<p>It is important to remember that GAP is case-sensitive. For example,
the following input causes an error:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="va">factorial</span>(<span class="fl">100</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error, Variable: 'factorial' must have a value
not in any function at line 14 of *stdin*</code></pre>
</div>
<p>because the name of the GAP library function is
<code>Factorial</code>. Using lowercase instead of uppercase or vice
versa also affects name completion.</p>
<p>Now let’s consider the following problem: for a finite group
<em>G</em>, calculate the average order of its elements (that is, the
sum of orders of its elements divided by the order of the group). Where
to start?</p>
<p>Enter <code>?Group</code>, and you will see all help entries,
starting with <code>Group</code>:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>┌──────────────────────────────────────────────────────────────────────────────┐
│   Choose an entry to view, 'q' for none (or use ?&lt;nr&gt; later):                │
│[1]    AutoDoc (not loaded): @Group                                           │
│[2]    loops (not loaded): group                                              │
│[3]    polycyclic: Group                                                      │
│[4]    RCWA (not loaded): Group                                               │
│[5]    Tutorial: Groups and Homomorphisms                                     │
│[6]    Tutorial: Group Homomorphisms by Images                                │
│[7]    Tutorial: group general mapping                                        │
│[8]    Tutorial: GroupHomomorphismByImages vs. GroupGeneralMappingByImages    │
│[9]    Tutorial: group general mapping single-valued                          │
│[10]   Tutorial: group general mapping total                                  │
│[11]   Reference: Groups                                                      │
│[12]   Reference: Group Elements                                              │
│[13]   Reference: Group Properties                                            │
│[14]   Reference: Group Homomorphisms                                         │
│[15]   Reference: GroupHomomorphismByFunction                                 │
│[16]   Reference: Group Automorphisms                                         │
│[17]   Reference: Groups of Automorphisms                                     │
│[18]   Reference: Group Actions                                               │
│[19]   Reference: Group Products                                              │
│[20]   Reference: Group Libraries                                             │
│ &gt; &gt; &gt;                                                                        │
└─────────────── [ &lt;Up&gt;/&lt;Down&gt; select, &lt;Return&gt; show, q quit ] ────────────────┘</code></pre>
</div>
<p>You may use arrow keys to move up and down the list, and open help
pages by pressing Return key. For this exercise, open
<code>Tutorial: Groups and Homomorphisms</code> first. Note the
navigation instructions at the bottom of the screen. Look at first two
pages, then press <code>q</code> to return to the selection menu. Next,
navigate to <code>Reference: Groups</code> and open it. Within two first
pages you will find the function <code>Group</code> and mentioning of
<code>Order</code>.</p>
<p>GAP manual comes in several formats: text is good to view in a
terminal, PDF is good for printing and HTML (especially with MathJax
support) is very efficient for exploring with a browser. If you are
running GAP on your own computer, you can set the help viewer to the
default browser. If you are running GAP on a remote machine, this
(probably) will not work. (see <code>?WriteGapIniFile</code> on how to
make this setting permanent):</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="bu">SetHelpViewer</span>(<span class="st">"browser"</span>)<span class="op">;</span></span></code></pre>
</div>
<p>After that, invoke the help again, and see the difference!</p>
<p>Let’s now copy the following input from the first example of the GAP
Reference manual chapter on groups. It shows how to create permutations,
and assign values to variables. This is <code>Reference: Groups</code>.
You can select it by typing <code>?11</code>, where you replace
<code>11</code> with whatever number appears before
<code>Reference: Groups</code> on your machine.</p>
<p>If you are viewing the GAP documentation in a terminal, you might
find it helpful to open two copies of GAP, one for reading documentation
and one for writing code!</p>
<p>This guide shows how permutations in GAP are written in cycle
notation, and also shows common functions which are used with groups.
Also, in some places two semi-colons are used at the end of a line. This
stops GAP from showing the result of a computation.</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="va">a</span><span class="op">:=</span>(<span class="fl">1</span><span class="op">,</span><span class="fl">2</span><span class="op">,</span><span class="fl">3</span>)<span class="op">;;</span><span class="va">b</span><span class="op">:=</span>(<span class="fl">2</span><span class="op">,</span><span class="fl">3</span><span class="op">,</span><span class="fl">4</span>)<span class="op">;;</span></span></code></pre>
</div>
<p>Next, let <code>G</code> be a group generated by <code>a</code> and
<code>b</code>:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="va">G</span><span class="op">:=</span><span class="bu">Group</span>(<span class="va">a</span><span class="op">,</span><span class="va">b</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Group([ (1,2,3), (2,3,4) ])</code></pre>
</div>
<p>We may explore some properties of <code>G</code> and its
generators:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="bu">Size</span>(<span class="va">G</span>)<span class="op">;</span> <span class="bu">IsAbelian</span>(<span class="va">G</span>)<span class="op">;</span> <span class="bu">StructureDescription</span>(<span class="va">G</span>)<span class="op">;</span> <span class="bu">Order</span>(<span class="va">a</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">12</span></span>
<span><span class="va">false</span></span>
<span><span class="st">"A4"</span></span>
<span><span class="fl">3</span></span></code></pre>
</div>
<p>Our next task is to find out how to obtain a list of <code>G</code>’s
elements and their orders. Enter <code>?elements</code> and explore the
list of help topics. After inspection, the entry from the Tutorial does
not seem relevant, but the entry from the Reference manual is. It also
explains the difference between using <code>AsSSortedList</code> and
<code>AsList</code>. So, this is the list of elements of
<code>G</code>:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="bu">AsList</span>(<span class="va">G</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ (), (2,3,4), (2,4,3), (1,2)(3,4), (1,2,3), (1,2,4), (1,3,2), (1,3,4),
  (1,3)(2,4), (1,4,2), (1,4,3), (1,4)(2,3) ]</code></pre>
</div>
<p>The returned object is a <em>list</em>. We would like to assign it to
a variable to explore and reuse. We forgot to do it when we were
calculating it. Of course, we may use the command line history to
restore the last command, edit it and call again. But instead, we will
use <code>last</code> which is a special variable holding the last
result returned by GAP:</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="va">elts</span><span class="op">:=</span><span class="va">last</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ (), (2,3,4), (2,4,3), (1,2)(3,4), (1,2,3), (1,2,4), (1,3,2), (1,3,4),
  (1,3)(2,4), (1,4,2), (1,4,3), (1,4)(2,3) ]</code></pre>
</div>
<p>This is a list. Lists in GAP are indexed from 1. The following
commands are (hopefully!) self-explanatory:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">elts</span>[<span class="fl">1</span>]<span class="op">;</span> <span class="va">elts</span>[<span class="fl">3</span>]<span class="op">;</span> <span class="bu">Length</span>(<span class="va">elts</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>()
(2,4,3)
12</code></pre>
</div>
<div id="lists-are-more-than-arrays" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="lists-are-more-than-arrays" class="callout-inner">
<h3 class="callout-title">Lists are more than arrays</h3>
<div class="callout-content">
<ul>
<li><p>May contain holes or be empty</p></li>
<li><p>May dynamically change their length (with <code>Add</code>,
<code>Append</code> or direct assigment)</p></li>
<li><p>Not required to contain objects of the same type</p></li>
<li><p>See more in <a href="https://docs.gap-system.org/doc/tut/chap3.html" class="external-link">GAP Tutorial:
Lists and Records</a></p></li>
</ul>
</div>
</div>
</div>
<p>Many functions in GAP refer to <code>Set</code>s. A set in GAP is
just a list that happens to have no repetitions, no holes, and elements
in increasing order. Here are some examples:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="bu">IsSet</span>([<span class="fl">1</span><span class="op">,</span><span class="fl">3</span><span class="op">,</span><span class="fl">5</span>])<span class="op">;</span> <span class="bu">IsSet</span>([<span class="fl">1</span><span class="op">,</span><span class="fl">5</span><span class="op">,</span><span class="fl">3</span>])<span class="op">;</span> <span class="bu">IsSet</span>([<span class="fl">1</span><span class="op">,</span><span class="fl">3</span><span class="op">,</span><span class="fl">3</span>])<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">true</span></span>
<span><span class="va">false</span></span>
<span><span class="va">false</span></span></code></pre>
</div>
<p>Now let us consider an interesting calculation – the average order of
elements of <code>G</code>. There are many different ways to do this, we
will consider a few of them here.</p>
<p>A <code>for</code> loop in GAP allows you to do something for every
member of a collection. The general form of a <code>for</code> loop
is:</p>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="cf">for</span> <span class="va">val</span> <span class="ex">in</span> <span class="va">collection</span> <span class="cf">do</span></span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a>  <span class="op">&lt;</span><span class="va">something</span> <span class="va">with</span> <span class="va">val</span><span class="op">&gt;</span></span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span></code></pre>
</div>
<p>For example, to find the average order of our group <code>G</code> we
can do.</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="va">s</span><span class="op">:=</span><span class="fl">0</span><span class="op">;;</span></span>
<span id="cb48-2"><a href="#cb48-2" tabindex="-1"></a><span class="cf">for</span> <span class="va">g</span> <span class="ex">in</span> <span class="va">elts</span> <span class="cf">do</span></span>
<span id="cb48-3"><a href="#cb48-3" tabindex="-1"></a>  <span class="va">s</span> <span class="op">:=</span> <span class="va">s</span> <span class="op">+</span> <span class="bu">Order</span>(<span class="va">g</span>)<span class="op">;</span></span>
<span id="cb48-4"><a href="#cb48-4" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb48-5"><a href="#cb48-5" tabindex="-1"></a><span class="va">s</span><span class="op">/</span><span class="bu">Length</span>(<span class="va">elts</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">31</span><span class="op">/</span><span class="fl">12</span></span></code></pre>
</div>
<p>Actually, we can just directly loop over the elements of
<code>G</code> (in general GAP will let you loop over most types of
object). We have to switch to using <code>Size</code> instead of
<code>Length</code>, as groups don’t have a length!</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="va">s</span><span class="op">:=</span><span class="fl">0</span><span class="op">;;</span></span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a><span class="cf">for</span> <span class="va">g</span> <span class="ex">in</span> <span class="va">G</span> <span class="cf">do</span></span>
<span id="cb50-3"><a href="#cb50-3" tabindex="-1"></a>  <span class="va">s</span> <span class="op">:=</span> <span class="va">s</span> <span class="op">+</span> <span class="bu">Order</span>(<span class="va">g</span>)<span class="op">;</span></span>
<span id="cb50-4"><a href="#cb50-4" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb50-5"><a href="#cb50-5" tabindex="-1"></a><span class="va">s</span><span class="op">/</span><span class="bu">Size</span>(<span class="va">G</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">31</span><span class="op">/</span><span class="fl">12</span></span></code></pre>
</div>
<p>There are other ways of looping. For example, we can instead loop
over a range of integers, and accept <code>elts</code> like an
array:</p>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="va">s</span><span class="op">:=</span><span class="fl">0</span><span class="op">;;</span></span>
<span id="cb52-2"><a href="#cb52-2" tabindex="-1"></a><span class="cf">for</span> <span class="va">i</span> <span class="ex">in</span> [ <span class="fl">1</span> <span class="op">..</span> <span class="bu">Length</span>(<span class="va">elts</span>) ] <span class="cf">do</span></span>
<span id="cb52-3"><a href="#cb52-3" tabindex="-1"></a>  <span class="va">s</span> <span class="op">:=</span> <span class="va">s</span> <span class="op">+</span> <span class="bu">Order</span>( <span class="va">elts</span>[<span class="va">i</span>] )<span class="op">;</span></span>
<span id="cb52-4"><a href="#cb52-4" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb52-5"><a href="#cb52-5" tabindex="-1"></a><span class="va">s</span><span class="op">/</span><span class="bu">Length</span>(<span class="va">elts</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">31</span><span class="op">/</span><span class="fl">12</span></span></code></pre>
</div>
<p>However, often there are more compact ways of doing things. Here is a
very short way:</p>
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a><span class="bu">Sum</span>( <span class="bu">List</span>( <span class="va">elts</span><span class="op">,</span> <span class="bu">Order</span> ) ) <span class="op">/</span> <span class="bu">Length</span>( <span class="va">elts</span> )<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">31</span><span class="op">/</span><span class="fl">12</span></span></code></pre>
</div>
<p>Let’s break this last part down:</p>
<ul>
<li>
<code>Order</code> finds the order of a single permutation.</li>
<li>
<code>List(L,F)</code> makes a new list where the function
<code>F</code> is applied to each member of the list
<code>L</code>.</li>
<li>
<code>Sum(L)</code> adds up the members of a list
<code>L</code>.</li>
</ul>
<div id="which-approach-is-best" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="which-approach-is-best" class="callout-inner">
<h3 class="callout-title">Which approach is best?</h3>
<div class="callout-content">
<p>Compare these approaches. Which one would you prefer to use?</p>
</div>
</div>
</div>
<p>GAP has very helpful list manipulation tools. We will now show a few
more examples.</p>
<p>Sometimes, GAP does not have the exact function we want. For example,
<code>NrMovedPoints</code> gives the number of moved points of a
permutation, but what if we want to find all permutations which move
<code>4</code> points? This is where GAP’s arrow notation comes in.
<code>g -&gt; e</code> makes a new function which takes one argument
<code>g</code>, and returns the value of the expression <code>e</code>.
Here are some examples:</p>
<ul>
<li>finding all elements of <code>G</code> with no fixed points:</li>
</ul>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="bu">Filtered</span>( <span class="va">elts</span><span class="op">,</span> <span class="va">g</span> <span class="op">-&gt;</span> <span class="bu">NrMovedPoints</span>(<span class="va">g</span>) <span class="op">=</span> <span class="fl">4</span> )<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ (1,2)(3,4), (1,3)(2,4), (1,4)(2,3) ]</code></pre>
</div>
<ul>
<li>finding a permutation in <code>G</code> that conjugates (1,2) to
(2,3)</li>
</ul>
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a><span class="bu">First</span>( <span class="va">elts</span><span class="op">,</span> <span class="va">g</span> <span class="op">-&gt;</span> (<span class="fl">1</span><span class="op">,</span><span class="fl">2</span>)<span class="op">^</span><span class="va">g</span> <span class="op">=</span> (<span class="fl">2</span><span class="op">,</span><span class="fl">3</span>) )<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>(1,2,3)</code></pre>
</div>
<p>Let’s check this (remember that in GAP permutations are multiplied
from left to right!):</p>
<div class="codewrapper sourceCode" id="cb60">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a>(<span class="fl">1</span><span class="op">,</span><span class="fl">2</span><span class="op">,</span><span class="fl">3</span>)<span class="op">^-</span><span class="fl">1</span><span class="op">*</span>(<span class="fl">1</span><span class="op">,</span><span class="fl">2</span>)<span class="op">*</span>(<span class="fl">1</span><span class="op">,</span><span class="fl">2</span><span class="op">,</span><span class="fl">3</span>)<span class="op">=</span>(<span class="fl">2</span><span class="op">,</span><span class="fl">3</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">true</span></span></code></pre>
</div>
<ul>
<li>checking whether all elements of <code>G</code> move the point 1 to
2:</li>
</ul>
<div class="codewrapper sourceCode" id="cb62">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a><span class="bu">ForAll</span>( <span class="va">elts</span><span class="op">,</span> <span class="va">g</span> <span class="op">-&gt;</span> <span class="fl">1</span><span class="op">^</span><span class="va">g</span> <span class="op">&lt;&gt;</span> <span class="fl">2</span> )<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">false</span></span></code></pre>
</div>
<ul>
<li>checking whether there is an element in <code>G</code> which moves
exactly two points:</li>
</ul>
<div class="codewrapper sourceCode" id="cb64">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a><span class="bu">ForAny</span>( <span class="va">elts</span><span class="op">,</span> <span class="va">g</span> <span class="op">-&gt;</span> <span class="bu">NrMovedPoints</span>(<span class="va">g</span>) <span class="op">=</span> <span class="fl">2</span> )<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">false</span></span></code></pre>
</div>
<div id="use-list-operations-to-select-from-elts-the-stabiliser-of-the-point-2-and-the-centraliser-of-the-permutation-12" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="use-list-operations-to-select-from-elts-the-stabiliser-of-the-point-2-and-the-centraliser-of-the-permutation-12" class="callout-inner">
<h3 class="callout-title">Use list operations to select from
<code>elts</code> the stabiliser of the point 2 and the centraliser of
the permutation (1,2)</h3>
<div class="callout-content">
<ul>
<li><p><code>Filtered( elts, g -&gt; 2^g = 2 );</code></p></li>
<li><p><code>Filtered( elts, g -&gt; (1,2)^g = (1,2) );</code></p></li>
</ul>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Remember that GAP is case-sensitive!</li>
<li>Do not panic if you see
<code>Error, Variable: 'FuncName' must have a value</code>.</li>
<li>Care about names of variables and functions.</li>
<li>Use command line editing.</li>
<li>Use autocompletion instead of typing names of functions and
variables in full.</li>
<li>Use <code>?</code> and <code>??</code> to view help pages.</li>
<li>Set the default help format to HTML using
<code>SetHelpViewer</code>.</li>
<li>Use the <code>LogTo</code> function to save all GAP input and output
into a text file.</li>
<li>If calculation takes too long, press <control>-C to interrupt
it.</control>
</li>
<li>Read ‘A First Session with GAP’ from the GAP Tutorial.</li>
</ul>
</div>
</div>
</div></section><section id="aio-02-some-objects"><p>Content from <a href="02-some-objects.html">Some more GAP objects</a></p>
<hr>
<p>Last updated on 2024-08-28 |

        <a href="https://github.com/carpentries-incubator/gap-lesson/edit/main/episodes/02-some-objects.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>Further examples of objects and operations with them</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>See examples of types that are built-in in GAP but may be missing in
other systems</li>
<li>See examples of list arithmetic</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>So far we have met three types of GAP types:</p>
<ul>
<li><p>simple objects such as integers, rationals, booleans,
permutations;</p></li>
<li><p>composite objects such as <em>lists</em>;</p></li>
<li><p>objects with more complex internal representation, such as
groups.</p></li>
</ul>
<p>In this section, we will demonstrate some other examples of basic
objects that exist in GAP (the system is extendable, so one can
introduce new types of objects, but this is beyond the scope of this
lesson!).</p>
<p>Some other simple objects are floats, cyclotomics and finite field
elements:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fl">1.15</span><span class="op">;</span> <span class="va">Float</span>(<span class="fl">1232</span><span class="op">/</span><span class="fl">3456567</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">1.15</span></span>
<span><span class="fl">0.000356423</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="va">E</span>(<span class="fl">4</span>)<span class="op">;</span> <span class="va">E</span>(<span class="fl">4</span>)<span class="op">^</span><span class="fl">2</span><span class="op">;</span> <span class="va">E</span>(<span class="fl">6</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fu">E</span><span class="op">(</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="op">-</span><span class="fl">1</span></span>
<span><span class="op">-</span><span class="fu">E</span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="bu">AsList</span>(<span class="va">GF</span>(<span class="fl">2</span>))<span class="op">;</span> <span class="va">Z</span>(<span class="fl">5</span>)<span class="op">;</span> <span class="va">Z</span>(<span class="fl">5</span>)<span class="op">^</span><span class="fl">4</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ 0*Z(2), Z(2)^0 ]
Z(5)
Z(5)^0</code></pre>
</div>
<p>You already know about lists. Another type of composite objects is
<strong>records</strong>. While a list contains subobjects indexed by
their positions in the list, a record contains subobjects, called
<em>record components</em>, which are indexed by their names. Elements
of a record are accessed with <code>.</code></p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="va">date</span><span class="op">:=</span> <span class="ex">rec</span>(<span class="va">year</span><span class="op">:=</span> <span class="fl">2015</span><span class="op">,</span> <span class="va">month</span><span class="op">:=</span> <span class="st">"Nov"</span><span class="op">,</span> <span class="va">day</span><span class="op">:=</span> <span class="fl">17</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fu">rec</span><span class="op">(</span> <span class="va">day</span> <span class="op">:=</span> <span class="fl">17</span>, <span class="va">month</span> <span class="op">:=</span> <span class="st">"Nov"</span>, <span class="va">year</span> <span class="op">:=</span> <span class="fl">2015</span> <span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="va">date</span>.<span class="va">year</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">2015</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="va">date</span>.<span class="va">time</span><span class="op">:=</span> <span class="ex">rec</span>(<span class="va">hour</span><span class="op">:=</span> <span class="fl">14</span><span class="op">,</span> <span class="va">minute</span><span class="op">:=</span> <span class="fl">55</span><span class="op">,</span> <span class="va">second</span><span class="op">:=</span> <span class="fl">12</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fu">rec</span><span class="op">(</span> <span class="va">hour</span> <span class="op">:=</span> <span class="fl">14</span>, <span class="va">minute</span> <span class="op">:=</span> <span class="fl">55</span>, <span class="va">second</span> <span class="op">:=</span> <span class="fl">12</span> <span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="va">date</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fu">rec</span><span class="op">(</span> <span class="va">day</span> <span class="op">:=</span> <span class="fl">17</span>, <span class="va">month</span> <span class="op">:=</span> <span class="st">"Nov"</span>,</span>
<span>  <span class="va">time</span> <span class="op">:=</span> <span class="fu">rec</span><span class="op">(</span> <span class="va">hour</span> <span class="op">:=</span> <span class="fl">14</span>, <span class="va">minute</span> <span class="op">:=</span> <span class="fl">55</span>, <span class="va">second</span> <span class="op">:=</span> <span class="fl">12</span> <span class="op">)</span>, <span class="va">year</span> <span class="op">:=</span> <span class="fl">2015</span> <span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="bu">RecNames</span>(<span class="va">date</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ "time", "year", "month", "day" ]</code></pre>
</div>
<p>Next, there are <strong>strings</strong> and
<strong>characters</strong>. While strings are printed specially by GAP,
a string is really just a list of characters, and any function which
takes a list will also take a string. In contrast, characters are simple
objects like integers.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">w</span><span class="op">:=</span><span class="st">"supercalifragilisticexpialidocious"</span><span class="op">;</span> <span class="bu">Length</span>(<span class="va">w</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">"supercalifragilisticexpialidocious"</span></span>
<span><span class="fl">34</span></span></code></pre>
</div>
<p>Strings are denoted by double quotes, and characters by single
ones.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="st">"s"</span> <span class="ex">in</span> <span class="va">w</span><span class="op">;</span> <span class="st">'s'</span> <span class="ex">in</span> <span class="va">w</span><span class="op">;</span> <span class="bu">IsSubset</span>(<span class="va">w</span><span class="op">,</span><span class="st">"s"</span>)<span class="op">;</span>  <span class="bu">IsSubset</span>(<span class="va">w</span><span class="op">,</span>[<span class="st">'s'</span><span class="op">,</span><span class="st">'f'</span>])<span class="op">;</span> [<span class="st">'c'</span><span class="op">,</span><span class="st">'a'</span><span class="op">,</span><span class="st">'t'</span>] <span class="op">=</span> <span class="st">"cat"</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">false</span></span>
<span><span class="va">true</span></span>
<span><span class="va">true</span></span>
<span><span class="va">true</span></span>
<span><span class="va">true</span></span></code></pre>
</div>
<p>Note that</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="bu">PositionSublist</span>(<span class="va">w</span><span class="op">,</span><span class="st">"sf"</span>)<span class="op">;</span> <span class="bu">PositionSublist</span>(<span class="va">w</span><span class="op">,</span><span class="st">"fr"</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">fail</span></span>
<span><span class="fl">10</span></span></code></pre>
</div>
<p>Be careful! Some operations may create a new list, while others are
destructive. For example:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="bu">SortedList</span>(<span class="va">w</span>)<span class="op">;</span> <span class="va">w</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">"aaacccdeefgiiiiiiillloopprrssstuux"</span></span>
<span><span class="st">"supercalifragilisticexpialidocious"</span></span></code></pre>
</div>
<p>but</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="bu">Sort</span>(<span class="va">w</span>)<span class="op">;</span> <span class="va">w</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="st">"aaacccdeefgiiiiiiillloopprrssstuux"</span></span></code></pre>
</div>
<p>Which letter occurs in “supercalifragilisticexpialidocious” most
often?</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">c</span> <span class="op">:=</span> <span class="bu">Collected</span>(<span class="va">w</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ [ 'a', 3 ], [ 'c', 3 ], [ 'd', 1 ], [ 'e', 2 ], [ 'f', 1 ], [ 'g', 1 ],
  [ 'i', 7 ], [ 'l', 3 ], [ 'o', 2 ], [ 'p', 2 ], [ 'r', 2 ], [ 's', 3 ],
  [ 't', 1 ], [ 'u', 2 ], [ 'x', 1 ] ]</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">k</span> <span class="op">:=</span> <span class="bu">Maximum</span>( <span class="bu">List</span>( <span class="va">c</span><span class="op">,</span> <span class="va">v</span> <span class="op">-&gt;</span> <span class="va">v</span>[<span class="fl">2</span>] ) )<span class="op">;</span> <span class="bu">Filtered</span>( <span class="va">c</span><span class="op">,</span> <span class="va">v</span> <span class="op">-&gt;</span> <span class="va">v</span>[<span class="fl">2</span>] <span class="op">=</span> <span class="fl">7</span> )<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>7
[ [ 'i', 7 ] ]</code></pre>
</div>
<div id="finding-the-most-common-letters-in-a-list-using-only-one-pass" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="finding-the-most-common-letters-in-a-list-using-only-one-pass" class="callout-inner">
<h3 class="callout-title">Finding the most common letter(s) in a list using only one pass</h3>
<div class="callout-content">
<p>The command</p>
<p><code>k := Maximum( List( c, v -&gt; v[2] ) ); Filtered( c, v -&gt; v[2] = 7 );</code></p>
<p>iterates over the list <code>c</code> twice (in <code>List</code> and
in <code>Filtered</code>), and it also iterates over another list of the
same length as <code>c</code> in the call to <code>Maximum</code>. If
the list is long, this will impose certain performance and memory
penalties. Try to write code that finds the letters that occur most in
<code>c</code> without producing an intermediate list.</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>GAP has a plethora of various immediate, positional and component
objects.</li>
<li>List arithmetic is very flexible and powerful.</li>
<li>Objects like lists and records are good to keep structured and
related data.</li>
</ul>
</div>
</div>
</div></section><section id="aio-03-func"><p>Content from <a href="03-func.html">Functions in GAP</a></p>
<hr>
<p>Last updated on 2024-08-28 |

        <a href="https://github.com/carpentries-incubator/gap-lesson/edit/main/episodes/03-func.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>Functions as a way of code re-use</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Using command line for prototyping</li>
<li>Creating functions</li>
<li>Reading GAP code from a file</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Just to remind us of our task: for a finite group <em>G</em>, we
would like to calculate the average order of its elements (that is, the
sum of the orders of its elements divided by the order of the
group).</p>
<p>We begin with a very straightforward approach, iterating over all
elements of the group in question:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="va">S</span><span class="op">:=</span><span class="bu">SymmetricGroup</span>(<span class="fl">10</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Sym( [ 1 .. 10 ] )</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="va">sum</span><span class="op">:=</span><span class="fl">0</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">0</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="cf">for</span> <span class="va">g</span> <span class="ex">in</span> <span class="va">S</span> <span class="cf">do</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  <span class="va">sum</span> <span class="op">:=</span> <span class="va">sum</span> <span class="op">+</span> <span class="bu">Order</span>(<span class="va">g</span>)<span class="op">;</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="va">sum</span><span class="op">/</span><span class="bu">Size</span>(<span class="va">S</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">39020911</span><span class="op">/</span><span class="fl">3628800</span></span></code></pre>
</div>
<p>Now assume that we would like to save this fragment of GAP code and
later repeat this calculation for some other groups. We may even
reformat it to fit it into one line and use a double semicolon to
suppress the output of <code>sum</code>:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="va">sum</span><span class="op">:=</span><span class="fl">0</span><span class="op">;;</span> <span class="cf">for</span> <span class="va">g</span> <span class="ex">in</span> <span class="va">S</span> <span class="cf">do</span> <span class="va">sum</span> <span class="op">:=</span> <span class="va">sum</span> <span class="op">+</span> <span class="bu">Order</span>(<span class="va">g</span>)<span class="op">;</span> <span class="cf">od</span><span class="op">;</span> <span class="va">sum</span><span class="op">/</span><span class="bu">Size</span>(<span class="va">S</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">39020911</span><span class="op">/</span><span class="fl">3628800</span></span></code></pre>
</div>
<p>Now we may easily copy and paste it into the GAP session the next
time we need it. But here we see the first inconvenience: the code
expects that the group in question must be stored in a variable named
<code>S</code>, so either we have to reset <code>S</code> each time, or
we need to edit the code:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="va">S</span><span class="op">:=</span><span class="bu">AlternatingGroup</span>(<span class="fl">10</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Alt( [ 1 .. 10 ] )</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="va">sum</span><span class="op">:=</span><span class="fl">0</span><span class="op">;;</span> <span class="cf">for</span> <span class="va">g</span> <span class="ex">in</span> <span class="va">S</span> <span class="cf">do</span> <span class="va">sum</span> <span class="op">:=</span> <span class="va">sum</span> <span class="op">+</span> <span class="bu">Order</span>(<span class="va">g</span>)<span class="op">;</span> <span class="cf">od</span><span class="op">;</span> <span class="va">sum</span><span class="op">/</span><span class="bu">Size</span>(<span class="va">S</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">2587393</span><span class="op">/</span><span class="fl">259200</span></span></code></pre>
</div>
<div id="this-works-only-for-rapid-prototyping" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="this-works-only-for-rapid-prototyping" class="callout-inner">
<h3 class="callout-title">This works only for rapid prototyping</h3>
<div class="callout-content">
<ul>
<li>one could accidentally copy and paste only a part of the code, and
incomplete input may trigger a break loop;</li>
<li>even more dangerous: one could forget to reset <code>sum</code> to
zero prior to the new calculation and obtain incorrect results;</li>
<li>the group in question may have a different variable name, so the
code will have to be changed;</li>
<li>
<strong>last, but not least:</strong> when GAP code is pasted into
the interpreter, it is evaluated line by line. If you have a long file
with many commands, and a syntax error is in line <em>N</em>, this error
will be reported only when GAP completes the evaluation of all preceding
lines, and that might be quite time-consuming.</li>
</ul>
</div>
</div>
</div>
<p>That is why we need to give our GAP code more structure by organising
it into functions:</p>
<ul>
<li>functions are parsed first and may be called later;</li>
<li>any <strong>syntax</strong> errors will be detected in the parsing
stage, and not at the time of the call;</li>
<li>functions may have local variables, and this prevents them being
accidentally overwritten just because of reusing the same name of the
variable to store something else.</li>
</ul>
<p>The following function takes an argument <code>G</code> and computes
the average order of its elements:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="va">AvgOrdOfGroup</span> <span class="op">:=</span> <span class="fu">function</span>(<span class="va">G</span>)</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="ex">local</span> <span class="va">sum</span><span class="op">,</span> <span class="va">g</span><span class="op">;</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="va">sum</span> <span class="op">:=</span> <span class="fl">0</span><span class="op">;</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="cf">for</span> <span class="va">g</span> <span class="ex">in</span> <span class="va">G</span> <span class="cf">do</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>  <span class="va">sum</span> <span class="op">:=</span> <span class="va">sum</span> <span class="op">+</span> <span class="bu">Order</span>(<span class="va">g</span>)<span class="op">;</span></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="ex">return</span> <span class="va">sum</span><span class="op">/</span><span class="bu">Size</span>(<span class="va">G</span>)<span class="op">;</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>function( G ) ... end</code></pre>
</div>
<p>Now we can apply it to another group, passing the group as an
argument:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="va">A</span><span class="op">:=</span><span class="bu">AlternatingGroup</span>(<span class="fl">10</span>)<span class="op">;</span> <span class="va">AvgOrdOfGroup</span>(<span class="va">A</span>)<span class="op">;</span> <span class="va">time</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Alt( [ 1 .. 10 ] )
2587393/259200
837</code></pre>
</div>
<p>The example above also demonstrates <code>time</code> – this is the
variable which stores the CPU time in milliseconds spent by the last
command.</p>
<p>Thus, we may now create new groups and reuse
<code>AvgOrdOfGroup</code> to calculate the average order of their
elements in the same GAP session. Our next goal is to make it reusable
for calculations in future sessions.</p>
<p>Using a text editor (for example, the one that you may have used for
previous Software Carpentry lessons), create a text file called
<code>avgord.g</code> containing the following function code and
comments (a good chance to practise using them!):</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>#<span class="co">####################################################################</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>#</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>#<span class="co"> AvgOrdOfGroup(G)</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>#</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>#<span class="co"> Calculating the average order of an element of G, where G meant to</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>#<span class="co"> be a group but in fact may be any collection of objects having</span></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>#<span class="co"> multiplicative order</span></span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a>#</span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a><span class="va">AvgOrdOfGroup</span> <span class="op">:=</span> <span class="fu">function</span>(<span class="va">G</span>)</span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a><span class="ex">local</span> <span class="va">sum</span><span class="op">,</span> <span class="va">g</span><span class="op">;</span></span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a><span class="va">sum</span> <span class="op">:=</span> <span class="fl">0</span><span class="op">;</span></span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a><span class="cf">for</span> <span class="va">g</span> <span class="ex">in</span> <span class="va">G</span> <span class="cf">do</span></span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a>  <span class="va">sum</span> <span class="op">:=</span> <span class="va">sum</span> <span class="op">+</span> <span class="bu">Order</span>(<span class="va">g</span>)<span class="op">;</span></span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a><span class="ex">return</span> <span class="va">sum</span><span class="op">/</span><span class="bu">Size</span>(<span class="va">G</span>)<span class="op">;</span></span>
<span id="cb17-16"><a href="#cb17-16" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code></pre>
</div>
<p>Now start a new GAP session and create another group, for example
<code>MathieuGroup(11)</code>:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="va">M11</span><span class="op">:=</span><span class="bu">MathieuGroup</span>(<span class="fl">11</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Group([ (1,2,3,4,5,6,7,8,9,10,11), (3,7,11,8)(4,10,5,6) ])</code></pre>
</div>
<p>Clearly, <code>AvgOrdOfGroup</code> is not defined in this session,
so an attempt to call this function results in an error:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="va">AvgOrdOfGroup</span>(<span class="va">M11</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error, Variable: 'AvgOrdOfGroup' must have a value
not in any function at line 2 of *stdin*</code></pre>
</div>
<p>To be available, it should first be loaded using the function
<code>Read</code>. Below we assume that the file is in the current
directory, so no path is needed.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="bu">Read</span>(<span class="st">"avgord.g"</span>)<span class="op">;</span></span></code></pre>
</div>
<p>This loads the file into GAP, and the function
<code>AvgOrdOfGroup</code> is now available:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="va">AvgOrdOfGroup</span>(<span class="va">M11</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">53131</span><span class="op">/</span><span class="fl">7920</span></span></code></pre>
</div>
<p>In this example of using <code>Read</code>, a new GAP session was
started to make it clear that <code>AvgOrdOfGroup</code> did not exist
before the call of <code>Read</code> and was loaded from the file.
However, a file with a function like this could be read multiple times
in the same GAP session (later you will see cases when re-reading a file
is more complicated). Calling <code>Read</code> again executes all code
in the file being read. This means that if the code of the function has
been modified, and it has no errors (but possibly has warnings), the
function will be overwritten. <strong>Never ignore the
warnings!</strong></p>
<p>For example, let us edit the file and replace the line</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">return</span> <span class="va">sum</span><span class="op">/</span><span class="bu">Size</span>(<span class="va">G</span>)<span class="op">;</span></span></code></pre>
</div>
<p>by the line with a deliberate syntax error:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">return</span> <span class="va">Float</span>(<span class="va">sum</span><span class="op">/</span><span class="bu">Size</span>(<span class="va">G</span>)<span class="op">;</span></span></code></pre>
</div>
<p>Now read this file with</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="bu">Read</span>(<span class="st">"avgord.g"</span>)<span class="op">;</span></span></code></pre>
</div>
<p>and you will see an error message:</p>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Syntax error: ) expected in avgord.g line 7
return Float(sum/Size(G);
                        ^</code></pre>
</div>
<p>Since there was an error, the <code>AvgOrdOfGroup</code> function in
our session was not redefined, and remains the same as last time it was
successfully read:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="bu">Print</span>(<span class="va">AvgOrdOfGroup</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>function ( G )
    for g  in G  do
        sum := sum + Order( g );
    od;
    return sum / Size( G );
end</code></pre>
</div>
<p>Now correct the error by adding the missing closing bracket, read the
file again and recalculate the average order of an element for
<code>M11</code>:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="bu">Read</span>(<span class="st">"avgord.g"</span>)<span class="op">;</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="va">AvgOrdOfGroup</span>(<span class="va">M11</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">6.70846</span></span></code></pre>
</div>
<p>Now let’s see an example of a <em>warning</em>. Since it is only a
warning, it will redefine the function, and this may cause some
unexpected result. To see what could happen, first edit the file to roll
back the change in the type of the result (so it will return a rational
instead of a float), and then comment out two lines as follows:</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="va">AvgOrdOfGroup</span> <span class="op">:=</span> <span class="fu">function</span>(<span class="va">G</span>)</span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a>#<span class="co"> local sum, g;</span></span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a>#<span class="co"> sum := 0;</span></span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a><span class="cf">for</span> <span class="va">g</span> <span class="ex">in</span> <span class="va">G</span> <span class="cf">do</span></span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a>  <span class="va">sum</span> <span class="op">:=</span> <span class="va">sum</span> <span class="op">+</span> <span class="bu">Order</span>(<span class="va">g</span>)<span class="op">;</span></span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a><span class="ex">return</span> <span class="va">sum</span><span class="op">/</span><span class="bu">Size</span>(<span class="va">G</span>)<span class="op">;</span></span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code></pre>
</div>
<p>Now, when you read the file, you will see warnings:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="bu">Read</span>(<span class="st">"avgord.g"</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Syntax error: warning: unbound global variable in avgord.g line 4
for g in G do
       ^
Syntax error: warning: unbound global variable in avgord.g line 5
  sum := sum + Order(g);
       ^
Syntax error: warning: unbound global variable in avgord.g line 5
  sum := sum + Order(g);
             ^
Syntax error: warning: unbound global variable in avgord.g line 7
return sum/Size(G);
          ^</code></pre>
</div>
<p>These warnings mean that because <code>g</code> and <code>sum</code>
are not declared as <code>local</code> variables, GAP will expect them
to be global variables at the time when the function will be called.
Because they did not exist when <code>Read</code> was called, a warning
was displayed. However, if they happened to exist by that time, there
would be no warning, and any call to <code>AvgOrdOfGroup</code> would
overwrite them! This shows how important it is to declare local
variables. Let us investigate what happened in slightly more detail:</p>
<p>The function is now redefined, as we can see from its output (or can
inspect with <code>PageSource(AvgOrdOfGroup)</code> which will also
display any comments):</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="bu">Print</span>(<span class="va">AvgOrdOfGroup</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>function ( G )
    for g in G  do
        sum := sum + Order( g );
    od;
    return sum / Size( G );
end</code></pre>
</div>
<p>but an attempt to run it results in a break loop:</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="va">AvgOrdOfGroup</span>(<span class="va">M11</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ERROR<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="error" tabindex="0"><code>Error, Variable: 'sum' must have an assigned value in
  sum := sum + Order( g ); called from
&lt;function "AvgOrdOfGroup"&gt;( &lt;arguments&gt; )
 called from read-eval loop at line 24 of *stdin*
you can 'return;' after assigning a value
brk&gt;</code></pre>
</div>
<p>which you can exit using <code>quit;</code>.</p>
<p>What happens next demonstrates how things may go wrong:</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="va">sum</span><span class="op">:=</span><span class="fl">2</span><span class="op">^</span><span class="fl">64</span><span class="op">;</span> <span class="va">g</span><span class="op">:=</span>[<span class="fl">1</span>]<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>18446744073709551616
[ 1 ]</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="va">AvgOrdOfGroup</span>(<span class="va">M11</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">18446744073709604747</span><span class="op">/</span><span class="fl">7920</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="va">sum</span><span class="op">;</span> <span class="va">g</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>18446744073709604747
(1,2)(3,10,5,6,8,9)(4,7,11)</code></pre>
</div>
<p>Now, before reading the next part of the lesson, please revert the
last change by uncommenting the two commented lines, so that you have
initial version of <code>AvgOrdOfGroup</code> in the file
<code>avgord.g</code> again:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="va">AvgOrdOfGroup</span> <span class="op">:=</span> <span class="fu">function</span>(<span class="va">G</span>)</span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a><span class="ex">local</span> <span class="va">sum</span><span class="op">,</span> <span class="va">g</span><span class="op">;</span></span>
<span id="cb46-3"><a href="#cb46-3" tabindex="-1"></a><span class="va">sum</span> <span class="op">:=</span> <span class="fl">0</span><span class="op">;</span></span>
<span id="cb46-4"><a href="#cb46-4" tabindex="-1"></a><span class="cf">for</span> <span class="va">g</span> <span class="ex">in</span> <span class="va">G</span> <span class="cf">do</span></span>
<span id="cb46-5"><a href="#cb46-5" tabindex="-1"></a>  <span class="va">sum</span> <span class="op">:=</span> <span class="va">sum</span> <span class="op">+</span> <span class="bu">Order</span>(<span class="va">g</span>)<span class="op">;</span></span>
<span id="cb46-6"><a href="#cb46-6" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb46-7"><a href="#cb46-7" tabindex="-1"></a><span class="ex">return</span> <span class="va">sum</span><span class="op">/</span><span class="bu">Size</span>(<span class="va">G</span>)<span class="op">;</span></span>
<span id="cb46-8"><a href="#cb46-8" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code></pre>
</div>
<div id="paths" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="paths" class="callout-inner">
<h3 class="callout-title">Paths</h3>
<div class="callout-content">
<ul>
<li><p>It is important to know how to specify paths to files in all
operating systems and where to find your home and current
directory.</p></li>
<li><p>It is useful to know that path and filename completion is
activated by pressing Esc two or four times.</p></li>
</ul>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Command line is good for prototyping; functions are good for
repeated calculations.</li>
<li>Informative function names and comments will make code more readable
to your future self and to others.</li>
<li>Beware of undeclared local variables!</li>
</ul>
</div>
</div>
</div></section><section id="aio-04-testing"><p>Content from <a href="04-testing.html">Using regression tests</a></p>
<hr>
<p>Last updated on 2024-08-28 |

        <a href="https://github.com/carpentries-incubator/gap-lesson/edit/main/episodes/04-testing.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>Test-driven development</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Be able to create and run test files</li>
<li>Understand how test discrepancies and runtime regressions can be
identified and interpreted</li>
<li>Understand how to adjust tests to check randomised algorithms</li>
<li>Learn the ‘Make it right, then make it fast’ concept</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>The code of <code>AvgOrdOfGroup</code> is very simple, and nothing
could possibly go wrong with it. By iterating over the group instead of
creating a list of its elements, it avoids running out of memory
(calling <code>AsList(SymmetricGroup(11))</code> already results in
exceeding the permitted memory). That said, the computation still takes
time, with several minutes needed to calculate the average order of an
element of <code>SymmetricGroup(11)</code>. But at least we are
confident that it is correct.</p>
<p>Now we would like to write a better version of this function using
some theoretical facts we know from Group Theory. We may put
<code>avgord.g</code> under version control to revert changes if need
be; we may create a new function to keep the old one around and compare
the results of both; but this could be made even more efficient if we
use <strong>regression testing</strong>: this is the term for testing
based on rerunning previously completed tests to check that new changes
do not impact their correctness or worsen their performance.</p>
<p>To start with, we need to create a <strong>test file</strong>. The
test file looks exactly like a GAP session, so it is easy to create it
by copying and pasting a GAP session with all GAP prompts, inputs and
outputs into a text file (a test file could be also created from a log
file with a GAP session recorded with the help of <code>LogTo</code>).
During the test, GAP will run all inputs from the test file, compare the
outputs with those in the test file and report any differences.</p>
<p>GAP test files are just text files, but the common practice is to
name them with the extension <code>.tst</code>. Now create the file
<code>avgord.tst</code> in the current directory (to avoid typing the
full path) with the following content:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>#<span class="co"> tests for average order of a group element</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>#<span class="co"> permutation group</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">S</span><span class="op">:=</span><span class="bu">SymmetricGroup</span>(<span class="fl">9</span>)<span class="op">;</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="va">Sym</span>( [ <span class="fl">1</span> <span class="op">..</span> <span class="fl">9</span> ] )</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">AvgOrdOfGroup</span>(<span class="va">S</span>)<span class="op">;</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fl">3291487</span><span class="op">/</span><span class="fl">362880</span></span></code></pre>
</div>
<p>As you see, the test file may include comments, with certain rules
specifying where they may be placed, because one should be able to
distinguish comments in the test file from GAP output started with
<code>#</code>. For that purpose, lines at the beginning of the test
file that start with <code>#</code>, and one empty line together with
one or more lines starting with <code>#</code>, are considered as
comments. All other lines are interpreted as GAP output from the
preceding GAP input.</p>
<p>To run the test, one should use the function <code>Test</code> (see
<a href="https://docs.gap-system.org/doc/ref/chap7.html#X87712F9D8732193C" class="external-link">documentation</a>.
For example (assuming that the function <code>AvgOrdOfGroup</code> is
already loaded):</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="va">Test</span>(<span class="st">"avgord.tst"</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">true</span></span></code></pre>
</div>
<p>In this case, <code>Test</code> reported no discrepancies and
returned <code>true</code>, so we conclude that the test has passed.</p>
<p>We will not cover the topic of writing a good and comprehensive test
suite here, nor will we cover the various options of the
<code>Test</code> function, allowing us, for example, to ignore
differences in the output formatting, or to display the progress of the
test, as these are described in its documentation.</p>
<p>Instead, we will now add more groups to <code>avgord.tst</code>, to
demonstrate that the code also works with other kinds of groups, and to
show various ways of combining commands in the test file:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>#<span class="co"> tests for average order of a group element</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>#<span class="co"> permutation group</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">S</span><span class="op">:=</span><span class="bu">SymmetricGroup</span>(<span class="fl">9</span>)<span class="op">;</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="va">Sym</span>( [ <span class="fl">1</span> <span class="op">..</span> <span class="fl">9</span> ] )</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">AvgOrdOfGroup</span>(<span class="va">S</span>)<span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="fl">3291487</span><span class="op">/</span><span class="fl">362880</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>#<span class="co"> pc group</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">D</span><span class="op">:=</span><span class="bu">DihedralGroup</span>(<span class="fl">512</span>)<span class="op">;</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="op">&lt;</span><span class="va">pc</span> <span class="va">group</span> <span class="va">of</span> <span class="va">size</span> <span class="fl">512</span> <span class="va">with</span> <span class="fl">9</span> <span class="va">generators</span><span class="op">&gt;</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">AvgOrdOfGroup</span>(<span class="va">D</span>)<span class="op">;</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="fl">44203</span><span class="op">/</span><span class="fl">512</span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">G</span><span class="op">:=</span><span class="bu">TrivialGroup</span>()<span class="op">;;</span> #<span class="co"> suppress output</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">AvgOrdOfGroup</span>(<span class="va">G</span>)<span class="op">;</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="fl">1</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a>#<span class="co"> fp group</span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">F</span><span class="op">:=</span><span class="bu">FreeGroup</span>(<span class="st">"a"</span><span class="op">,</span><span class="st">"b"</span>)<span class="op">;</span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="op">&lt;</span><span class="va">free</span> <span class="va">group</span> <span class="va">on</span> <span class="va">the</span> <span class="va">generators</span> [ <span class="va">a</span><span class="op">,</span> <span class="va">b</span> ]<span class="op">&gt;</span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">G</span><span class="op">:=</span><span class="va">F</span><span class="op">/</span><span class="va">ParseRelators</span>(<span class="bu">GeneratorsOfGroup</span>(<span class="va">F</span>)<span class="op">,</span><span class="st">"a^8=b^2=1, b^-1ab=a^-1"</span>)<span class="op">;</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="op">&lt;</span><span class="va">fp</span> <span class="va">group</span> <span class="va">on</span> <span class="va">the</span> <span class="va">generators</span> [ <span class="va">a</span><span class="op">,</span> <span class="va">b</span> ]<span class="op">&gt;</span></span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="bu">IsFinite</span>(<span class="va">G</span>)<span class="op">;</span></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a><span class="cn">true</span></span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">AvgOrdOfGroup</span>(<span class="va">G</span>)<span class="op">;</span></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a><span class="fl">59</span><span class="op">/</span><span class="fl">16</span></span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a></span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a>#<span class="co"> finite matrix group over integers</span></span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">AvgOrdOfGroup</span>( <span class="bu">Group</span>( [[<span class="fl">0</span><span class="op">,-</span><span class="fl">1</span>]<span class="op">,</span>[<span class="fl">1</span><span class="op">,</span><span class="fl">0</span>]] ) )<span class="op">;</span></span>
<span id="cb4-30"><a href="#cb4-30" tabindex="-1"></a><span class="fl">11</span><span class="op">/</span><span class="fl">4</span></span>
<span id="cb4-31"><a href="#cb4-31" tabindex="-1"></a></span>
<span id="cb4-32"><a href="#cb4-32" tabindex="-1"></a>#<span class="co"> matrix group over a finite field</span></span>
<span id="cb4-33"><a href="#cb4-33" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">AvgOrdOfGroup</span>(<span class="va">SL</span>(<span class="fl">2</span><span class="op">,</span><span class="fl">5</span>))<span class="op">;</span></span>
<span id="cb4-34"><a href="#cb4-34" tabindex="-1"></a><span class="fl">221</span><span class="op">/</span><span class="fl">40</span></span></code></pre>
</div>
<p>Let us test the extended version of the test again and check that it
works:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="va">Test</span>(<span class="st">"avgord.tst"</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">true</span></span></code></pre>
</div>
<p>Now we will work on a better implementation. Of course, the order of
an element is an invariant of a conjugacy class of elements of a group,
so we need only to know the orders of conjugacy classes of elements and
their representatives. The following code, which we add into
<code>avgord.g</code>, reads into GAP and redefines
<code>AvgOrdOfGroup</code> without any syntax errors:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="va">AvgOrdOfGroup</span> <span class="op">:=</span> <span class="fu">function</span>(<span class="va">G</span>)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="ex">local</span> <span class="va">cc</span><span class="op">,</span> <span class="va">sum</span><span class="op">,</span> <span class="va">c</span><span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="va">cc</span><span class="op">:=</span><span class="bu">ConjugacyClasses</span>(<span class="va">G</span>)<span class="op">;</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="va">sum</span><span class="op">:=</span><span class="fl">0</span><span class="op">;</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="cf">for</span> <span class="va">c</span> <span class="ex">in</span> <span class="va">cc</span> <span class="cf">do</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>  <span class="va">sum</span> <span class="op">:=</span> <span class="va">sum</span> <span class="op">+</span> <span class="bu">Order</span>( <span class="bu">Representative</span>(<span class="va">c</span>) ) <span class="op">*</span> <span class="bu">Size</span>(<span class="va">cc</span>)<span class="op">;</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="ex">return</span> <span class="va">sum</span><span class="op">/</span><span class="bu">Size</span>(<span class="va">G</span>)<span class="op">;</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code></pre>
</div>
<p>but when we run the test, here comes a surprise!</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="bu">Read</span>(<span class="st">"avgord.g"</span>)<span class="op">;</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="va">Test</span>(<span class="st">"avgord.tst"</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="co">########&gt; Diff in avgord.tst, line 6:</span></span>
<span><span class="co"># Input is:</span></span>
<span><span class="fu">AvgOrdOfGroup</span><span class="op">(</span><span class="va">S</span><span class="op">)</span>;</span>
<span><span class="co"># Expected output:</span></span>
<span><span class="fl">3291487</span><span class="op">/</span><span class="fl">362880</span></span>
<span><span class="co"># But found:</span></span>
<span><span class="fl">11</span><span class="op">/</span><span class="fl">672</span></span>
<span><span class="co">########</span></span>
<span><span class="co">########&gt; Diff in avgord.tst, line 12:</span></span>
<span><span class="co"># Input is:</span></span>
<span><span class="fu">AvgOrdOfGroup</span><span class="op">(</span><span class="va">D</span><span class="op">)</span>;</span>
<span><span class="co"># Expected output:</span></span>
<span><span class="fl">44203</span><span class="op">/</span><span class="fl">512</span></span>
<span><span class="co"># But found:</span></span>
<span><span class="fl">2862481</span><span class="op">/</span><span class="fl">512</span></span>
<span><span class="co">########</span></span>
<span><span class="co">########&gt; Diff in avgord.tst, line 23:</span></span>
<span><span class="co"># Input is:</span></span>
<span><span class="fu">AvgOrdOfGroup</span><span class="op">(</span><span class="va">G</span><span class="op">)</span>;</span>
<span><span class="co"># Expected output:</span></span>
<span><span class="fl">59</span><span class="op">/</span><span class="fl">16</span></span>
<span><span class="co"># But found:</span></span>
<span><span class="fl">189</span><span class="op">/</span><span class="fl">16</span></span>
<span><span class="co">########</span></span>
<span><span class="co">########&gt; Diff in avgord.tst, line 29:</span></span>
<span><span class="co"># Input is:</span></span>
<span><span class="fu">AvgOrdOfGroup</span><span class="op">(</span><span class="fu">SL</span><span class="op">(</span><span class="fl">2</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span>;</span>
<span><span class="co"># Expected output:</span></span>
<span><span class="fl">221</span><span class="op">/</span><span class="fl">40</span></span>
<span><span class="co"># But found:</span></span>
<span><span class="fl">69</span><span class="op">/</span><span class="fl">20</span></span>
<span><span class="co">########</span></span>
<span><span class="va">false</span></span></code></pre>
</div>
<p>Indeed, we made a typo (deliberately) and replaced
<code>Size(c)</code> by <code>Size(cc)</code>. The correct version of
course should look as follows:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="va">AvgOrdOfGroup</span> <span class="op">:=</span> <span class="fu">function</span>(<span class="va">G</span>)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="ex">local</span> <span class="va">cc</span><span class="op">,</span> <span class="va">sum</span><span class="op">,</span> <span class="va">c</span><span class="op">;</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="va">cc</span><span class="op">:=</span><span class="bu">ConjugacyClasses</span>(<span class="va">G</span>)<span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="va">sum</span><span class="op">:=</span><span class="fl">0</span><span class="op">;</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="cf">for</span> <span class="va">c</span> <span class="ex">in</span> <span class="va">cc</span> <span class="cf">do</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>  <span class="va">sum</span> <span class="op">:=</span> <span class="va">sum</span> <span class="op">+</span> <span class="bu">Order</span>( <span class="bu">Representative</span>(<span class="va">c</span>) ) <span class="op">*</span> <span class="bu">Size</span>(<span class="va">c</span>)<span class="op">;</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="ex">return</span> <span class="va">sum</span><span class="op">/</span><span class="bu">Size</span>(<span class="va">G</span>)<span class="op">;</span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code></pre>
</div>
<p>Now we will fix this in <code>avgord.g</code>, and read and test it
again to check that the tests run correctly.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="bu">Read</span>(<span class="st">"avgord.g"</span>)<span class="op">;</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="va">Test</span>(<span class="st">"avgord.tst"</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">true</span></span></code></pre>
</div>
<p>Thus, the approach ‘Make it right, then make it fast’ helped detect a
bug immediately after it has been introduced.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>It is easy to create a test file by copying and pasting a GAP
session.</li>
<li>Writing a good and comprehensive test suite requires some
effort.</li>
<li>Make it right, then make it fast!</li>
</ul>
</div>
</div>
</div></section><section id="aio-05-small-groups"><p>Content from <a href="05-small-groups.html">Small groups search</a></p>
<hr>
<p>Last updated on 2024-08-28 |

        <a href="https://github.com/carpentries-incubator/gap-lesson/edit/main/episodes/05-small-groups.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>Modular programming: putting functions together</li>
<li>How to check some conjecture for all groups of a given order</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Using the Small Groups Library</li>
<li>Designing a system of functions to fit together</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>In this section, we wish to discover some non-trivial groups with an
interesting property: namely, that the average order of their elements
is an integer.</p>
<p>The GAP distribution includes a number of data libraries (for
example, search for the word “library” in the <a href="https://www.gap-system.org/packages/" class="external-link">list of packages distributed
with GAP</a>). One of them is the <a href="https://gap-packages.github.io/smallgrp/" class="external-link">Small Groups Library</a>
by Hans Ulrich Besche, Bettina Eick and Eamonn O’Brien.</p>
<p>This library provides various utilities to determine which
information is stored there and submit queries to search for groups with
desired properties. The key functions are <code>SmallGroup</code>,
<code>AllSmallGroups</code>, <code>NrSmallGroups</code>,
<code>SmallGroupsInformation</code> and <code>IdGroup</code>. For
example:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>gap&gt; NrSmallGroups(64);
267
gap&gt; SmallGroupsInformation(64);

  There are 267 groups of order 64.
  They are sorted by their ranks.
     1 is cyclic.
     2 - 54 have rank 2.
     55 - 191 have rank 3.
     192 - 259 have rank 4.
     260 - 266 have rank 5.
     267 is elementary abelian.

  For the selection functions the values of the following attributes
  are precomputed and stored:
     IsAbelian, PClassPGroup, RankPGroup, FrattinifactorSize and
     FrattinifactorId.

  This size belongs to layer 2 of the SmallGroups library.
  IdSmallGroup is available for this size.

gap&gt; G:=SmallGroup(64,2);
&lt;pc group of size 64 with 6 generators&gt;
gap&gt; AllSmallGroups(Size,64,NilpotencyClassOfGroup,5);
[ &lt;pc group of size 64 with 6 generators&gt;, &lt;pc group of size 64 with 6 generators&gt;,
  &lt;pc group of size 64 with 6 generators&gt; ]
gap&gt; List(last,IdGroup);
[ [ 64, 52 ], [ 64, 53 ], [ 64, 54 ] ]</code></pre>
</div>
<p>We would like to use our own testing function, which we will create
here, using inline notation (available for one-argument functions):</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="va">TestOneGroup</span> <span class="op">:=</span> <span class="va">G</span> <span class="op">-&gt;</span> <span class="bu">IsInt</span>( <span class="va">AvgOrdOfGroup</span>(<span class="va">G</span>) )<span class="op">;</span></span></code></pre>
</div>
<p>Now try, for example</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="bu">List</span>([<span class="bu">TrivialGroup</span>()<span class="op">,</span><span class="bu">Group</span>((<span class="fl">1</span><span class="op">,</span><span class="fl">2</span>))]<span class="op">,</span><span class="va">TestOneGroup</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ true, false ]</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="bu">AllSmallGroups</span>(<span class="bu">Size</span><span class="op">,</span><span class="fl">24</span><span class="op">,</span><span class="va">TestOneGroup</span><span class="op">,</span><span class="cn">true</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ ]</code></pre>
</div>
<div id="modular-programming-begins-here" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="modular-programming-begins-here" class="callout-inner">
<h3 class="callout-title">Modular programming begins here</h3>
<div class="callout-content">
<p>Why is returning booleans a good design decision for such functions,
instead of just printing information or returning a string such as
<code>"YES"</code> ?</p>
</div>
</div>
</div>
<p>This is a simple example of a function which tests all groups of a
given order. It creates one group at a time, checks the desired
property, and returns as soon as an example is discovered. Otherwise it
returns <code>fail</code> which is a special kind of boolean variable in
GAP.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="va">TestOneOrderEasy</span> <span class="op">:=</span> <span class="fu">function</span>(<span class="va">n</span>)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="ex">local</span> <span class="va">i</span><span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="cf">for</span> <span class="va">i</span> <span class="ex">in</span> [<span class="fl">1</span><span class="op">..</span><span class="bu">NrSmallGroups</span>(<span class="va">n</span>)] <span class="cf">do</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a>  <span class="cf">if</span> <span class="va">TestOneGroup</span>( <span class="bu">SmallGroup</span>( <span class="va">n</span><span class="op">,</span> <span class="va">i</span> ) ) <span class="cf">then</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a>    <span class="ex">return</span> [<span class="va">n</span><span class="op">,</span><span class="va">i</span>]<span class="op">;</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a>  <span class="cf">fi</span><span class="op">;</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="ex">return</span> <span class="cn">fail</span><span class="op">;</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code></pre>
</div>
<p>For example,</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="va">TestOneOrderEasy</span>(<span class="fl">1</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ 1, 1 ]</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="va">TestOneOrderEasy</span>(<span class="fl">24</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">fail</span></span></code></pre>
</div>
<div id="allsmallgroups-runs-out-of-memory-what-to-do" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="allsmallgroups-runs-out-of-memory-what-to-do" class="callout-inner">
<h3 class="callout-title">
<code>AllSmallGroups</code> runs out of memory
– what to do?</h3>
<div class="callout-content">
<ul>
<li>Use iteration over <code>[1..NrSmallGroups(n)]</code> as shown in
the function above</li>
<li>Use <code>IdsOfAllSmallGroups</code> which accepts same arguments as
<code>AllSmallGroups</code> but returns ids instead of groups.</li>
</ul>
</div>
</div>
</div>
<p>Iterating over <code>[1..NrSmallGroups(n)]</code> gives you more
flexibility if you need more control over the progress of calculation.
For example, the next version of our testing function prints additional
information about the number of the group being tested. It also supplies
the testing function as an argument (why do you think this is
better?).</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="va">TestOneOrder</span> <span class="op">:=</span> <span class="fu">function</span>(<span class="va">f</span><span class="op">,</span><span class="va">n</span>)</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="ex">local</span> <span class="va">i</span><span class="op">,</span> <span class="va">G</span><span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="cf">for</span> <span class="va">i</span> <span class="ex">in</span> [<span class="fl">1</span><span class="op">..</span><span class="bu">NrSmallGroups</span>(<span class="va">n</span>)] <span class="cf">do</span></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>  <span class="bu">Print</span>(<span class="va">n</span><span class="op">,</span> <span class="st">":"</span><span class="op">,</span> <span class="va">i</span><span class="op">,</span> <span class="st">"/"</span><span class="op">,</span> <span class="bu">NrSmallGroups</span>(<span class="va">n</span>)<span class="op">,</span> <span class="st">"\r"</span>)<span class="op">;</span></span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>  <span class="va">G</span> <span class="op">:=</span> <span class="bu">SmallGroup</span>( <span class="va">n</span><span class="op">,</span> <span class="va">i</span> )<span class="op">;</span></span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>  <span class="cf">if</span> <span class="va">f</span>(<span class="va">G</span>) <span class="cf">then</span></span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>    <span class="bu">Print</span>(<span class="st">"\n"</span>)<span class="op">;</span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>    <span class="ex">return</span> [<span class="va">n</span><span class="op">,</span><span class="va">i</span>]<span class="op">;</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>  <span class="cf">fi</span><span class="op">;</span></span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a><span class="bu">Print</span>(<span class="st">"\n"</span>)<span class="op">;</span></span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a><span class="ex">return</span> <span class="cn">fail</span><span class="op">;</span></span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code></pre>
</div>
<p>For example,</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="va">TestOneOrder</span>(<span class="va">TestOneGroup</span><span class="op">,</span><span class="fl">64</span>)<span class="op">;</span></span></code></pre>
</div>
<p>will display a changing counter during calculation and then return
<code>fail</code>:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">64</span><span class="op">:</span><span class="fl">267</span><span class="op">/</span><span class="fl">267</span></span>
<span><span class="va">fail</span></span></code></pre>
</div>
<p>The next step is to integrate <code>TestOneOrder</code> into a
function which will test all orders from 2 to <code>n</code> and stop as
soon as it finds an example of a group with the average order of an
element being an integer:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="va">TestAllOrders</span><span class="op">:=</span><span class="fu">function</span>(<span class="va">f</span><span class="op">,</span><span class="va">n</span>)</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="ex">local</span> <span class="va">i</span><span class="op">,</span> <span class="va">res</span><span class="op">;</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="cf">for</span> <span class="va">i</span> <span class="ex">in</span> [<span class="fl">2</span><span class="op">..</span><span class="va">n</span>] <span class="cf">do</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>  <span class="va">res</span><span class="op">:=</span><span class="va">TestOneOrder</span>(<span class="va">f</span><span class="op">,</span><span class="va">i</span>)<span class="op">;</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>  <span class="cf">if</span> <span class="va">res</span> <span class="op">&lt;&gt;</span> <span class="cn">fail</span> <span class="cf">then</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>    <span class="ex">return</span> <span class="va">res</span><span class="op">;</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a>  <span class="cf">fi</span><span class="op">;</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a><span class="ex">return</span> <span class="cn">fail</span><span class="op">;</span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code></pre>
</div>
<p>It reports that there is such a group of order 105:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="va">TestAllOrders</span>(<span class="va">TestOneGroup</span><span class="op">,</span><span class="fl">128</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2:1/1
3:1/1
4:2/2
5:1/1
6:2/2
7:1/1
8:5/5
...
...
...
100:16/16
101:1/1
102:4/4
103:1/1
104:14/14
105:1/2
[ 105, 1 ]</code></pre>
</div>
<p>To explore it further, we can get its
<code>StructureDescription</code> (see <a href="https://docs.gap-system.org/doc/ref/chap39.html#X87BF1B887C91CA2E" class="external-link">documentation</a>
for the explanation of the notation it uses):</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="va">G</span><span class="op">:=</span><span class="bu">SmallGroup</span>(<span class="fl">105</span><span class="op">,</span><span class="fl">1</span>)<span class="op">;</span> <span class="va">AvgOrdOfGroup</span>(<span class="va">G</span>)<span class="op">;</span> <span class="bu">StructureDescription</span>(<span class="va">G</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;pc group of size 105 with 3 generators&gt;
17
"C5 x (C7 : C3)"</code></pre>
</div>
<p>and then convert it to a finitely presented group to see its
generators and relators:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="va">H</span><span class="op">:=</span><span class="bu">SimplifiedFpGroup</span>(<span class="bu">Image</span>(<span class="bu">IsomorphismFpGroup</span>(<span class="va">G</span>)))<span class="op">;</span></span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="bu">RelatorsOfFpGroup</span>(<span class="va">H</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;fp group on the generators [ F1, F2, F3 ]&gt;
[ F1^3, F2^-1*F1^-1*F2*F1, F3^-1*F2^-1*F3*F2, F3^-1*F1^-1*F3*F1*F3^-1, F2^5,
  F3^7 ]</code></pre>
</div>
<p>Now we want to try larger groups, starting from order 106 (we check
that the other group of order 105 possesses no such property)</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="bu">List</span>(<span class="bu">AllSmallGroups</span>(<span class="fl">105</span>)<span class="op">,</span><span class="va">AvgOrdOfGroup</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[ 17, 301/5 ]</code></pre>
</div>
<p>With a little modification, we add an extra argument specifying the
order from which to start:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="va">TestRangeOfOrders</span><span class="op">:=</span><span class="fu">function</span>(<span class="va">f</span><span class="op">,</span><span class="va">n1</span><span class="op">,</span><span class="va">n2</span>)</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a><span class="ex">local</span> <span class="va">n</span><span class="op">,</span> <span class="va">res</span><span class="op">;</span></span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a><span class="cf">for</span> <span class="va">n</span> <span class="ex">in</span> [<span class="va">n1</span><span class="op">..</span><span class="va">n2</span>] <span class="cf">do</span></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a>  <span class="va">res</span><span class="op">:=</span><span class="va">TestOneOrder</span>(<span class="va">f</span><span class="op">,</span><span class="va">n</span>)<span class="op">;</span></span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a>  <span class="cf">if</span> <span class="va">res</span> <span class="op">&lt;&gt;</span> <span class="cn">fail</span> <span class="cf">then</span></span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a>    <span class="ex">return</span> <span class="va">res</span><span class="op">;</span></span>
<span id="cb24-7"><a href="#cb24-7" tabindex="-1"></a>  <span class="cf">fi</span><span class="op">;</span></span>
<span id="cb24-8"><a href="#cb24-8" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb24-9"><a href="#cb24-9" tabindex="-1"></a><span class="ex">return</span> <span class="cn">fail</span><span class="op">;</span></span>
<span id="cb24-10"><a href="#cb24-10" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code></pre>
</div>
<p>But now we call it with</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="va">TestRangeOfOrders</span>(<span class="va">TestOneGroup</span><span class="op">,</span><span class="fl">106</span><span class="op">,</span><span class="fl">256</span>)<span class="op">;</span></span></code></pre>
</div>
<p>and discover that testing 2328 groups of order 128 and additionally
56092 groups of order 256 already takes too long.</p>
<div id="dont-panic" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="dont-panic" class="callout-inner">
<h3 class="callout-title">Don’t panic!</h3>
<div class="callout-content">
<p>You can interrupt GAP by pressing Ctrl-C once. After that, GAP will
enter a break loop, designated by the break prompt <code>brk&gt;</code>.
You can leave it by typing <code>quit;</code> (beware of pressing Ctrl-C
twice within a second – that will terminate GAP session completely).</p>
</div>
</div>
</div>
<p>This is another situation where theoretical knowledge helps much more
than the brute-force approach. If the group is a <em>p</em>-group, then
the order of each conjugacy class of a non-identity element of the group
is divisible by <em>p</em>; therefore, the average order of a group
element may not be an integer. Therefore, <em>p</em>-groups can be
excluded from calculation. So, the new version of the code is</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="va">TestRangeOfOrders</span><span class="op">:=</span><span class="fu">function</span>(<span class="va">f</span><span class="op">,</span><span class="va">n1</span><span class="op">,</span><span class="va">n2</span>)</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a><span class="ex">local</span> <span class="va">n</span><span class="op">,</span> <span class="va">res</span><span class="op">;</span></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a><span class="cf">for</span> <span class="va">n</span> <span class="ex">in</span> [<span class="va">n1</span><span class="op">..</span><span class="va">n2</span>] <span class="cf">do</span></span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>  <span class="cf">if</span> <span class="cn">not</span> <span class="bu">IsPrimePowerInt</span>(<span class="va">n</span>) <span class="cf">then</span></span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a>     <span class="va">res</span><span class="op">:=</span><span class="va">TestOneOrder</span>(<span class="va">f</span><span class="op">,</span><span class="va">n</span>)<span class="op">;</span></span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a>     <span class="cf">if</span> <span class="va">res</span> <span class="op">&lt;&gt;</span> <span class="cn">fail</span> <span class="cf">then</span></span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a>       <span class="ex">return</span> <span class="va">res</span><span class="op">;</span></span>
<span id="cb26-8"><a href="#cb26-8" tabindex="-1"></a>     <span class="cf">fi</span><span class="op">;</span></span>
<span id="cb26-9"><a href="#cb26-9" tabindex="-1"></a>   <span class="cf">fi</span><span class="op">;</span></span>
<span id="cb26-10"><a href="#cb26-10" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb26-11"><a href="#cb26-11" tabindex="-1"></a><span class="ex">return</span> <span class="cn">fail</span><span class="op">;</span></span>
<span id="cb26-12"><a href="#cb26-12" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code></pre>
</div>
<p>and using it we are able to discover a group of order 357 with the
same property:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">TestRangeOfOrders</span>(<span class="va">TestOneGroup</span><span class="op">,</span><span class="fl">106</span><span class="op">,</span><span class="fl">512</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>106:2/2
108:45/45
...
350:10/10
351:14/14
352:195/195
354:4/4
355:2/2
356:5/5
357:1/2
[ 357, 1 ]</code></pre>
</div>
<p>The next function shows even further flexibility: it is variadic,
i.e. it may accept two or more arguments, the first two of which will be
assigned to the variables <code>f</code> and <code>n</code>, and the
rest of which will be available in the list <code>r</code> (this is
indicated by <code>...</code> after <code>r</code>). The first argument
is the testing function, the second is the order to check, and the third
and the fourth are the numbers of the first and last groups of this
order that should be checked. By default, the last two are equal to 1
and <code>NrSmallGroups(n)</code> respectively. This function also shows
how to validate the input and produce user-friendly error messages in
case of invalid arguments.</p>
<p>In addition, this function demonstrates how to use <code>Info</code>
messages that may be switched on and off by setting appropriate
<code>Info</code> level. The need we address here is to be able to
switch the levels of verbosity of the output without error-prone
approach of walking through the code and commenting <code>Print</code>
statements in and out. It is achieved by creating an info class:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="va">InfoSmallGroupsSearch</span> <span class="op">:=</span> <span class="bu">NewInfoClass</span>(<span class="st">"InfoSmallGroupsSearch"</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">InfoSmallGroupsSearch</span></span></code></pre>
</div>
<p>Now instead of <code>Print("something");</code> one could use
<code>Info( InfoSmallGroupsSearch, infolevel, "something" );</code>
where <code>infolevel</code> is a positive integer specifying the level
of verbosity. This level could be changed to <code>n</code> using the
command <code>SetInfoLevel( InfoSmallGroupsSearch, n);</code>. See
actual calls of <code>Info</code> in the code below:</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="va">TestOneOrderVariadic</span> <span class="op">:=</span> <span class="fu">function</span>(<span class="va">f</span><span class="op">,</span><span class="va">n</span><span class="op">,</span><span class="va">r</span><span class="op">..</span>.)</span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="ex">local</span> <span class="va">n1</span><span class="op">,</span> <span class="va">n2</span><span class="op">,</span> <span class="va">i</span><span class="op">;</span></span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a><span class="cf">if</span> <span class="cn">not</span> <span class="bu">Length</span>(<span class="va">r</span>) <span class="ex">in</span> [<span class="fl">0</span><span class="op">..</span><span class="fl">2</span>] <span class="cf">then</span></span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a>  <span class="bu">Error</span>(<span class="st">"The number of arguments must be 2,3 or 4\n"</span> )<span class="op">;</span></span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a><span class="cf">fi</span><span class="op">;</span></span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" tabindex="-1"></a><span class="cf">if</span> <span class="cn">not</span> <span class="bu">IsFunction</span>( <span class="va">f</span> ) <span class="cf">then</span></span>
<span id="cb31-9"><a href="#cb31-9" tabindex="-1"></a>  <span class="bu">Error</span>(<span class="st">"The first argument must be a function\n"</span> )<span class="op">;</span></span>
<span id="cb31-10"><a href="#cb31-10" tabindex="-1"></a><span class="cf">fi</span><span class="op">;</span></span>
<span id="cb31-11"><a href="#cb31-11" tabindex="-1"></a></span>
<span id="cb31-12"><a href="#cb31-12" tabindex="-1"></a><span class="cf">if</span> <span class="cn">not</span> <span class="bu">IsPosInt</span>( <span class="va">n</span> ) <span class="cf">then</span></span>
<span id="cb31-13"><a href="#cb31-13" tabindex="-1"></a>  <span class="bu">Error</span>(<span class="st">"The second argument must be a positive integer\n"</span> )<span class="op">;</span></span>
<span id="cb31-14"><a href="#cb31-14" tabindex="-1"></a><span class="cf">fi</span><span class="op">;</span></span>
<span id="cb31-15"><a href="#cb31-15" tabindex="-1"></a></span>
<span id="cb31-16"><a href="#cb31-16" tabindex="-1"></a><span class="cf">if</span> <span class="bu">IsBound</span>(<span class="va">r</span>[<span class="fl">1</span>]) <span class="cf">then</span></span>
<span id="cb31-17"><a href="#cb31-17" tabindex="-1"></a>  <span class="va">n1</span><span class="op">:=</span><span class="va">r</span>[<span class="fl">1</span>]<span class="op">;</span></span>
<span id="cb31-18"><a href="#cb31-18" tabindex="-1"></a>  <span class="cf">if</span> <span class="cn">not</span> <span class="va">n1</span> <span class="ex">in</span> [<span class="fl">1</span><span class="op">..</span><span class="bu">NrSmallGroups</span>(<span class="va">n</span>)] <span class="cf">then</span></span>
<span id="cb31-19"><a href="#cb31-19" tabindex="-1"></a>    <span class="bu">Error</span>(<span class="st">"The 3rd argument, if present, must belong to "</span><span class="op">,</span> [<span class="fl">1</span><span class="op">..</span><span class="bu">NrSmallGroups</span>(<span class="va">n</span>)]<span class="op">,</span> <span class="st">"\n"</span> )<span class="op">;</span></span>
<span id="cb31-20"><a href="#cb31-20" tabindex="-1"></a>  <span class="cf">fi</span><span class="op">;</span></span>
<span id="cb31-21"><a href="#cb31-21" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb31-22"><a href="#cb31-22" tabindex="-1"></a>  <span class="va">n1</span><span class="op">:=</span><span class="fl">1</span><span class="op">;</span></span>
<span id="cb31-23"><a href="#cb31-23" tabindex="-1"></a><span class="cf">fi</span><span class="op">;</span></span>
<span id="cb31-24"><a href="#cb31-24" tabindex="-1"></a></span>
<span id="cb31-25"><a href="#cb31-25" tabindex="-1"></a><span class="cf">if</span> <span class="bu">IsBound</span>(<span class="va">r</span>[<span class="fl">2</span>]) <span class="cf">then</span></span>
<span id="cb31-26"><a href="#cb31-26" tabindex="-1"></a>  <span class="va">n2</span><span class="op">:=</span><span class="va">r</span>[<span class="fl">2</span>]<span class="op">;</span></span>
<span id="cb31-27"><a href="#cb31-27" tabindex="-1"></a>  <span class="cf">if</span> <span class="cn">not</span> <span class="va">n2</span> <span class="ex">in</span> [<span class="fl">1</span><span class="op">..</span><span class="bu">NrSmallGroups</span>(<span class="va">n</span>)] <span class="cf">then</span></span>
<span id="cb31-28"><a href="#cb31-28" tabindex="-1"></a>    <span class="bu">Error</span>(<span class="st">"The 4th argument, if present, must belong to "</span><span class="op">,</span> [<span class="fl">1</span><span class="op">..</span><span class="bu">NrSmallGroups</span>(<span class="va">n</span>)]<span class="op">,</span> <span class="st">"\n"</span> )<span class="op">;</span></span>
<span id="cb31-29"><a href="#cb31-29" tabindex="-1"></a>  <span class="cf">elif</span> <span class="va">n2</span> <span class="op">&lt;</span> <span class="va">n1</span> <span class="cf">then</span></span>
<span id="cb31-30"><a href="#cb31-30" tabindex="-1"></a>    <span class="bu">Error</span>(<span class="st">"The 4th argument, if present, must be greater or equal to the 3rd \n"</span> )<span class="op">;</span></span>
<span id="cb31-31"><a href="#cb31-31" tabindex="-1"></a>  <span class="cf">fi</span><span class="op">;</span></span>
<span id="cb31-32"><a href="#cb31-32" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb31-33"><a href="#cb31-33" tabindex="-1"></a>  <span class="va">n2</span><span class="op">:=</span><span class="bu">NrSmallGroups</span>(<span class="va">n</span>)<span class="op">;</span></span>
<span id="cb31-34"><a href="#cb31-34" tabindex="-1"></a><span class="cf">fi</span><span class="op">;</span></span>
<span id="cb31-35"><a href="#cb31-35" tabindex="-1"></a></span>
<span id="cb31-36"><a href="#cb31-36" tabindex="-1"></a><span class="bu">Info</span>( <span class="va">InfoSmallGroupsSearch</span><span class="op">,</span> <span class="fl">1</span><span class="op">,</span></span>
<span id="cb31-37"><a href="#cb31-37" tabindex="-1"></a>      <span class="st">"Checking groups "</span><span class="op">,</span> <span class="va">n1</span><span class="op">,</span> <span class="st">" ... "</span><span class="op">,</span> <span class="va">n2</span><span class="op">,</span> <span class="st">" of order "</span><span class="op">,</span> <span class="va">n</span> )<span class="op">;</span></span>
<span id="cb31-38"><a href="#cb31-38" tabindex="-1"></a><span class="cf">for</span> <span class="va">i</span> <span class="ex">in</span> [<span class="va">n1</span><span class="op">..</span><span class="va">n2</span>] <span class="cf">do</span></span>
<span id="cb31-39"><a href="#cb31-39" tabindex="-1"></a>  <span class="cf">if</span> <span class="bu">InfoLevel</span>( <span class="va">InfoSmallGroupsSearch</span> ) <span class="op">&gt;</span> <span class="fl">1</span> <span class="cf">then</span></span>
<span id="cb31-40"><a href="#cb31-40" tabindex="-1"></a>    <span class="bu">Print</span>(<span class="va">i</span><span class="op">,</span> <span class="st">"/"</span><span class="op">,</span> <span class="bu">NrSmallGroups</span>(<span class="va">n</span>)<span class="op">,</span> <span class="st">"\r"</span>)<span class="op">;</span></span>
<span id="cb31-41"><a href="#cb31-41" tabindex="-1"></a>  <span class="cf">fi</span><span class="op">;</span></span>
<span id="cb31-42"><a href="#cb31-42" tabindex="-1"></a>  <span class="cf">if</span> <span class="va">f</span>(<span class="bu">SmallGroup</span>(<span class="va">n</span><span class="op">,</span><span class="va">i</span>)) <span class="cf">then</span></span>
<span id="cb31-43"><a href="#cb31-43" tabindex="-1"></a>    <span class="bu">Info</span>( <span class="va">InfoSmallGroupsSearch</span><span class="op">,</span> <span class="fl">1</span><span class="op">,</span></span>
<span id="cb31-44"><a href="#cb31-44" tabindex="-1"></a>          <span class="st">"Discovered counterexample: SmallGroup( "</span><span class="op">,</span> <span class="va">n</span><span class="op">,</span> <span class="st">", "</span><span class="op">,</span> <span class="va">i</span><span class="op">,</span> <span class="st">" )"</span> )<span class="op">;</span></span>
<span id="cb31-45"><a href="#cb31-45" tabindex="-1"></a>    <span class="ex">return</span> [<span class="va">n</span><span class="op">,</span><span class="va">i</span>]<span class="op">;</span></span>
<span id="cb31-46"><a href="#cb31-46" tabindex="-1"></a>  <span class="cf">fi</span><span class="op">;</span></span>
<span id="cb31-47"><a href="#cb31-47" tabindex="-1"></a><span class="cf">od</span><span class="op">;</span></span>
<span id="cb31-48"><a href="#cb31-48" tabindex="-1"></a><span class="bu">Info</span>( <span class="va">InfoSmallGroupsSearch</span><span class="op">,</span> <span class="fl">1</span><span class="op">,</span></span>
<span id="cb31-49"><a href="#cb31-49" tabindex="-1"></a>      <span class="st">"Search completed - no counterexample discovered"</span> )<span class="op">;</span></span>
<span id="cb31-50"><a href="#cb31-50" tabindex="-1"></a><span class="ex">return</span> <span class="cn">fail</span><span class="op">;</span></span>
<span id="cb31-51"><a href="#cb31-51" tabindex="-1"></a><span class="fu">end</span><span class="op">;</span></span></code></pre>
</div>
<p>The following example demonstrates how the output may now be
controlled by switching the info level for
<code>InfoSmallGroupsSearch</code>:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>gap&gt; TestOneOrderVariadic(IsIntegerAverageOrder,24);
fail
gap&gt; SetInfoLevel( InfoSmallGroupsSearch, 1 );
gap&gt; TestOneOrderVariadic(IsIntegerAverageOrder,24);
#I  Checking groups 1 ... 15 of order 24
#I  Search completed - no counterexample discovered
fail
gap&gt; TestOneOrderVariadic(IsIntegerAverageOrder,357);
#I  Checking groups 1 ... 2 of order 357
#I  Discovered counterexample: SmallGroup( 357, 1 )
[ 357, 1 ]
gap&gt; SetInfoLevel( InfoSmallGroupsSearch, 0);
gap&gt; TestOneOrderVariadic(IsIntegerAverageOrder,357);
[ 357, 1 ]</code></pre>
</div>
<p>Of course, this now introduces some complication for the test file,
which compares the actual output with the reference output. To resolve
this problem, we will decide to run the tests at info level 0 to
suppress all additional outputs. Because the tests may have been started
in the GAP session with a different info level, we will remember that
info level to restore it after the test:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Finding groups with integer average order
gap&gt; INFO_SSS:=InfoLevel(InfoSmallGroupsSearch);;
gap&gt; SetInfoLevel( InfoSmallGroupsSearch, 0);
gap&gt; res:=[];;
gap&gt; for n in [1..360] do
&gt;      if not IsPrimePowerInt(n) then
&gt;        t := TestOneOrderVariadic( IsIntegerAverageOrder,n,1,NrSmallGroups(n) );
&gt;        if t &lt;&gt; fail then
&gt;          Add(res,t);
&gt;        fi;
&gt;      fi;
&gt;    od;
gap&gt; res;
[ [ 1, 1 ], [ 105, 1 ], [ 357, 1 ] ]
gap&gt; SetInfoLevel( InfoSmallGroupsSearch, INFO_SSS);</code></pre>
</div>
<div id="does-the-small-groups-library-contain-another-group-with-this-property" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="does-the-small-groups-library-contain-another-group-with-this-property" class="callout-inner">
<h3 class="callout-title">Does the Small Groups Library contain another group with this property?</h3>
<div class="callout-content">
<ul>
<li><p>What can you say about the order of the groups with this
property?</p></li>
<li><p>Can you estimate how long it may take to check all 408641062
groups of order 1536?</p></li>
<li><p>How many groups of order not higher than 2000 might you be able
to check, excluding <em>p</em>-groups and those of order 1536?</p></li>
<li><p>Can you find another group with this property in the Small Groups
Library (of order not equal to 1536)?</p></li>
</ul>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Organise the code into functions.</li>
<li>Create small groups one by one instead of producing a huge list of
them.</li>
<li>Using <code>SmallGroupsInformation</code> may help to reduce the
search space.</li>
<li>GAP is not a magic tool: theoretical knowledge may help much more
than the brute-force approach.</li>
</ul>
</div>
</div>
</div></section><section id="aio-06-attributes"><p>Content from <a href="06-attributes.html">Attributes and Methods</a></p>
<hr>
<p>Last updated on 2024-08-28 |

        <a href="https://github.com/carpentries-incubator/gap-lesson/edit/main/episodes/06-attributes.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How to record information in GAP objects</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Declaring an attribute</li>
<li>Installing a method</li>
<li>Understanding method selection</li>
<li>Using debugging tools</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="which-function-is-faster" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="which-function-is-faster" class="callout-inner">
<h3 class="callout-title">Which function is faster?</h3>
<div class="callout-content">
<p>Try to repeatedly calculate <code>AvgOrdOfGroup(M11)</code> and
<code>AvgOrdOfCollection(M11)</code> and compare runtimes. Do this for a
new copy of <code>M11</code> and for the one for which this parameter
has already been observed. What do you observe?</p>
</div>
</div>
</div>
<p>Of course, for any given group the average order of its elements
needs to be calculated only once, as the next time it will return the
same value. However, as we see from the runtimes below, each new call of
<code>AvgOrdOfGroup</code> will repeat the same computation again, with
slightly varying runtime:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="va">A</span><span class="op">:=</span><span class="bu">AlternatingGroup</span>(<span class="fl">10</span>)<span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Alt( [ 1 .. 10 ] )</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="va">AvgOrdOfCollection</span>(<span class="va">A</span>)<span class="op">;</span> <span class="va">time</span><span class="op">;</span> <span class="va">AvgOrdOfCollection</span>(<span class="va">A</span>)<span class="op">;</span> <span class="va">time</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">2587393</span><span class="op">/</span><span class="fl">259200</span></span>
<span><span class="fl">8226</span></span>
<span><span class="fl">2587393</span><span class="op">/</span><span class="fl">259200</span></span>
<span><span class="fl">8118</span></span></code></pre>
</div>
<p>In the last example, the group in question was the same – we haven’t
constructed another copy of <code>AlternatingGroup(10)</code>; however,
the result of the calculation was not stored in <code>A</code>.</p>
<p>If you need to reuse this value, one option could be to store it in
some variable, but then you should be careful about matching such
variables with corresponding groups, and the code could become quite
convoluted and unreadable. On the other hand, GAP has the notion of an
<em>attribute</em> – a data structure that is used to accumulate
information that an object learns about itself during its lifetime.
Consider the following example:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="va">G</span><span class="op">:=</span><span class="bu">Group</span>([ (<span class="fl">1</span><span class="op">,</span><span class="fl">2</span><span class="op">,</span><span class="fl">3</span><span class="op">,</span><span class="fl">4</span><span class="op">,</span><span class="fl">5</span><span class="op">,</span><span class="fl">6</span><span class="op">,</span><span class="fl">7</span><span class="op">,</span><span class="fl">8</span><span class="op">,</span><span class="fl">9</span><span class="op">,</span><span class="fl">10</span><span class="op">,</span><span class="fl">11</span>)<span class="op">,</span> (<span class="fl">3</span><span class="op">,</span><span class="fl">7</span><span class="op">,</span><span class="fl">11</span><span class="op">,</span><span class="fl">8</span>)(<span class="fl">4</span><span class="op">,</span><span class="fl">10</span><span class="op">,</span><span class="fl">5</span><span class="op">,</span><span class="fl">6</span>) ])<span class="op">;</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="va">gap</span><span class="op">&gt;</span> <span class="bu">NrConjugacyClasses</span>(<span class="va">G</span>)<span class="op">;</span><span class="va">time</span><span class="op">;</span><span class="bu">NrConjugacyClasses</span>(<span class="va">G</span>)<span class="op">;</span><span class="va">time</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Group([ (1,2,3,4,5,6,7,8,9,10,11), (3,7,11,8)(4,10,5,6) ])
10
39
10
0</code></pre>
</div>
<p>In this case, the group <code>G</code> has 10 conjugacy classes, and
it took 39 ms to establish that in the first call. The second call has
zero cost since the result was stored in <code>G</code>, since
<code>NrConjugacyClasses</code> is an attribute:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="bu">NrConjugacyClasses</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>&lt;Attribute "NrConjugacyClasses"&gt;</code></pre>
</div>
<p>Our goal is now to learn how to create own attributes.</p>
<p>Since we already have a function <code>AvgOrdOfCollection</code>
which does the calculation, the simplest way to turn it into an
attribute is as follows:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="va">AverageOrder</span> <span class="op">:=</span> <span class="bu">NewAttribute</span>(<span class="st">"AverageOrder"</span><span class="op">,</span> <span class="bu">IsCollection</span>)<span class="op">;</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="bu">InstallMethod</span>( <span class="va">AverageOrder</span><span class="op">,</span> <span class="st">"for a collection"</span><span class="op">,</span> [<span class="bu">IsCollection</span>]<span class="op">,</span> <span class="va">AvgOrdOfCollection</span>)<span class="op">;</span></span></code></pre>
</div>
<p>In this example, first we declared an attribute
<code>AverageOrder</code> for objects in the category
<code>IsCollection</code>, and then installed the function
<code>AvgOrdOfCollection</code> as a method for this attribute. Instead
of calling the function <code>AvgOrdOfCollection</code>, we may now call
<code>AverageOrder</code>.</p>
<p>Now we may check that subsequent calls of <code>AverageOrder</code>
with the same argument are performed at zero cost. In this example the
time is reduced from more than 16 seconds to zero:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="va">S</span><span class="op">:=</span><span class="bu">SymmetricGroup</span>(<span class="fl">10</span>)<span class="op">;;</span> <span class="va">AverageOrder</span>(<span class="va">S</span>)<span class="op">;</span> <span class="va">time</span><span class="op">;</span> <span class="va">AverageOrder</span>(<span class="va">S</span>)<span class="op">;</span> <span class="va">time</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">39020911</span><span class="op">/</span><span class="fl">3628800</span></span>
<span><span class="fl">16445</span></span>
<span><span class="fl">39020911</span><span class="op">/</span><span class="fl">3628800</span></span>
<span><span class="fl">0</span></span></code></pre>
</div>
<p>You may wonder why we have declared the operation for a collection
and not only for a group, and why we have installed the inefficient
<code>AvgOrdOfCollection</code>. After all, we have already developed
the much more efficient <code>AvgOrdOfGroup</code>.</p>
<p>Imagine that you would like to be able to compute an average order
both for a group and for a list which consists of objects having a
multiplicative order. You may have a special function for each case, as
we have. If it could happen that you don’t know in advance the type of
the object in question, you may add checks into the code and dispatch to
a suitable function. This could quickly become complicated if you have
several different functions for various types of objects. Instead of
that, attributes are bunches of functions, called <em>methods</em>, and
GAP’s <em>method selection</em> will choose the most efficient method
based on the type of all arguments.</p>
<p>To illustrate this, we will now install a method for
<code>AverageOrder</code> for a group:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="bu">InstallMethod</span>( <span class="va">AverageOrder</span><span class="op">,</span> [<span class="bu">IsGroup</span>]<span class="op">,</span> <span class="va">AvgOrdOfGroup</span>)<span class="op">;</span></span></code></pre>
</div>
<p>If you apply it to a group whose <code>AverageOrder</code> has
already been computed, nothing will happen, since GAP will use the
stored value. However, for a newly created group, this new method will
be called:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="va">S</span><span class="op">:=</span><span class="bu">SymmetricGroup</span>(<span class="fl">10</span>)<span class="op">;;</span> <span class="va">AverageOrder</span>(<span class="va">S</span>)<span class="op">;</span> <span class="va">time</span><span class="op">;</span> <span class="va">AverageOrder</span>(<span class="va">S</span>)<span class="op">;</span> <span class="va">time</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">39020911</span><span class="op">/</span><span class="fl">3628800</span></span>
<span><span class="fl">26</span></span>
<span><span class="fl">39020911</span><span class="op">/</span><span class="fl">3628800</span></span>
<span><span class="fl">0</span></span></code></pre>
</div>
<div id="which-method-is-being-called" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="which-method-is-being-called" class="callout-inner">
<h3 class="callout-title">Which method is being called</h3>
<div class="callout-content">
<ul>
<li><p>Try to call <code>AverageOrder</code> for a collection which is
not a group (a list of group elements and/or a conjugacy class of group
elements).</p></li>
<li><p>Debugging tools like <code>TraceMethods</code> may help you see
which method is being called.</p></li>
<li><p><code>ApplicableMethod</code> in combination with
<code>PageSource</code> may point you to the source code with all the
comments.</p></li>
</ul>
</div>
</div>
</div>
<p>A <em>property</em> is a boolean-valued attribute. It can be created
using <code>NewProperty</code></p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="va">IsIntegerAverageOrder</span> <span class="op">:=</span> <span class="bu">NewProperty</span>(<span class="st">"IsIntegerAverageOrder"</span><span class="op">,</span> <span class="bu">IsCollection</span>)<span class="op">;</span></span></code></pre>
</div>
<p>Now we will install a method for <code>IsIntegerAverageOrder</code>
for a collection. Observe that it is never necessary to create a
function first and then install it as a method. The following method
installation instead creates a new function as one of its arguments:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="bu">InstallMethod</span>( <span class="va">IsIntegerAverageOrder</span><span class="op">,</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>  <span class="st">"for a collection"</span><span class="op">,</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>  [<span class="bu">IsCollection</span>]<span class="op">,</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>  <span class="va">coll</span> <span class="op">-&gt;</span> <span class="bu">IsInt</span>( <span class="va">AverageOrder</span>( <span class="va">coll</span> ) )</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a>)<span class="op">;</span></span></code></pre>
</div>
<p>Note that because <code>AverageOrder</code> is an attribute it will
take care of the selection of the most suitable method.</p>
<div id="does-such-a-method-always-exist" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="does-such-a-method-always-exist" class="callout-inner">
<h3 class="callout-title">Does such a method always exist?</h3>
<div class="callout-content">
<p>No. “No-method-found” is a special kind of error, and there are tools
to investigate such errors: see <code>?ShowArguments</code>,
<code>?ShowDetails</code>, <code>?ShowMethods</code> and
<code>?ShowOtherMethods</code>.</p>
</div>
</div>
</div>
<p>The following calculation shows that despite our success with
calculating the average order for large permutation groups via conjugacy
classes of elements, for pc groups from the Small Groups Library it
could be faster to iterate over their elements than to calculate
conjugacy classes:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="va">l</span><span class="op">:=</span><span class="bu">List</span>([<span class="fl">1</span><span class="op">..</span><span class="fl">1000</span>]<span class="op">,</span><span class="va">i</span><span class="op">-&gt;</span><span class="bu">SmallGroup</span>(<span class="fl">1536</span><span class="op">,</span><span class="va">i</span>))<span class="op">;;</span> <span class="bu">List</span>(<span class="va">l</span><span class="op">,</span><span class="va">AvgOrdOfGroup</span>)<span class="op">;;</span><span class="va">time</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">56231</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">GAP<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode gap" tabindex="0"><code class="sourceCode gap"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="va">l</span><span class="op">:=</span><span class="bu">List</span>([<span class="fl">1</span><span class="op">..</span><span class="fl">1000</span>]<span class="op">,</span><span class="va">i</span><span class="op">-&gt;</span><span class="bu">SmallGroup</span>(<span class="fl">1536</span><span class="op">,</span><span class="va">i</span>))<span class="op">;;</span> <span class="bu">List</span>(<span class="va">l</span><span class="op">,</span><span class="va">AvgOrdOfCollection</span>)<span class="op">;;</span><span class="va">time</span><span class="op">;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">9141</span></span></code></pre>
</div>
<div id="dont-panic" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="dont-panic" class="callout-inner">
<h3 class="callout-title">Don’t panic!</h3>
<div class="callout-content">
<ul>
<li><p>Install a method for <code>IsPcGroup</code> that iterates over
the group elements instead of calculations its conjugacy
classes.</p></li>
<li><p>Estimate practical boundaries of its feasibility. Can you find an
example of a pc group where iterating is slower than calculating
conjugacy classes?</p></li>
</ul>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>
<em>Positional</em> objects may accumulate information about
themselves during their lifetime.</li>
<li>This means that next time the stored information may be retrieved at
zero cost.</li>
<li>
<em>Methods</em> are bunches of functions; GAP’s <em>method
selection</em> will choose the most efficient method based on the type
of all arguments.</li>
<li>‘No-method-found’ is a special kind of error with useful debugging
tools helping to understand it.</li>
</ul>
</div>
</div>
</div></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/carpentries-incubator/gap-lesson/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/carpentries-incubator/gap-lesson/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries-incubator/gap-lesson/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries-incubator/gap-lesson/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:obk1@st-andrews.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.7" class="external-link">sandpaper (0.16.7)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.6" class="external-link">pegboard (0.7.6)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.4" class="external-link">varnish (1.0.4)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries-incubator.github.io/gap-lesson/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://carpentries-incubator.github.io/gap-lesson/aio.html",
  "identifier": "https://carpentries-incubator.github.io/gap-lesson/aio.html",
  "dateCreated": "2014-10-21",
  "dateModified": "2024-09-24",
  "datePublished": "2024-09-24"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

